(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],i={name:"App",components:{}},a=i,c=r("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null),l=u.exports,d=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{menuTrue:function(t){return e.headerProfileMenuChange(!0)},menuFalse:function(t){return e.headerProfileMenuChange(!1)}}}),r("div",{staticClass:"stories-container"},e._l(this.storiesToShow,(function(t){return r("ul",{key:t._id,staticClass:"story-list"},[r("li",[r("div",{staticClass:"single-story-container"},[r("storyUserPhotoName",{attrs:{story:t},on:{storyDeleted:e.reloadPage}}),r("mainImageStory",{attrs:{story:t}}),r("div",{staticClass:"story-after-photo"},[r("storyFourIcons",{attrs:{story:t}}),r("storyLikedBy",{attrs:{story:t}}),r("storyText",{attrs:{story:t}}),r("storyComments",{attrs:{story:t}}),r("storyHowLongAgo",{attrs:{story:t}}),r("storyAddComment",{attrs:{story:t}})],1)],1)])])})),0),e.storiesFollowing.length>e.numStoriesToShow?r("div",{staticClass:"load-more-stories",on:{click:e.loadMoreStories}},[r("h1",[e._v("Load More Posts")])]):e._e()],1)},g=[],m=r("1da1"),f=(r("4e82"),r("fb6a"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"header-container",attrs:{name:"container"},on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("close")}}},[e.newStoryOn?r("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),r("div",{staticClass:"header-flex-wide-left"}),r("div",{staticClass:"header-flex-1"},[r("h3",{staticClass:"header-logo",on:{click:function(t){return e.sendToFeed()}}},[e._v("Asaphstagram")])]),r("div",{staticClass:"header-flex-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBarContent,expression:"searchBarContent"}],staticClass:"header-search",attrs:{autocapitalize:"none",type:"search",placeholder:"Search"},domProps:{value:e.searchBarContent},on:{keyup:function(t){return e.searchDiv()},input:function(t){t.target.composing||(e.searchBarContent=t.target.value)}}}),e.searchBarContent.length?r("div",{staticClass:"app-header-search-results"},[e.searchResultUsers.length?e._e():r("div",{staticClass:"header-search-nothing"},[e._v("Nothing Found...")]),e.searchResultUsers.length?r("ul",e._l(e.searchResultUsers,(function(t){return r("li",{key:t._id,on:{click:function(r){return r.stopPropagation(),e.sendToProfilePage(t._id)}}},[r("div",{staticClass:"search-results-profile-img",on:{click:function(r){return r.stopPropagation(),e.sendToProfilePage(t._id)}}},[r("img",{attrs:{src:t.profileImgUrl,alt:""}})]),r("div",{staticClass:"search-results-names",on:{click:function(r){return r.stopPropagation(),e.sendToProfilePage(t._id)}}},[r("span",[e._v(e._s(t.username))]),e._v(" "+e._s(t.fullname)+" ")])])})),0):e._e()]):e._e()]),r("div",{staticClass:"header-flex-3"},[r("router-link",{attrs:{to:"/following-feed/"+e.userId}},[r("svg",{staticClass:"header-home header-icon",attrs:{"aria-label":"Home",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"}})]),e.isRoute("following-feed")?r("span",{staticClass:"underline"}):e._e()]),r("router-link",{attrs:{to:"/explore-feed/"+e.userId}},[r("svg",{staticClass:"header-explore header-icon",attrs:{"aria-label":"Find People",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z","fill-rule":"evenodd"}})]),e.isRoute("explore-feed")?r("span",{staticClass:"underline"}):e._e()]),r("router-link",{class:{underlined:e.isRoute("liked-stories-page")},attrs:{to:"/liked-stories-page/"+e.userId}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Activity Feed",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),e.isRoute("liked-stories-page")?r("span",{staticClass:"underline"}):e._e()]),r("span",{staticClass:"header-add-post-container",on:{click:e.openNewStory}},[r("svg",{staticClass:"header-add-post header-icon ",attrs:{"aria-label":"New Post",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"}}),r("path",{attrs:{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}}),r("path",{attrs:{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"}})])]),r("div",{staticClass:"header-profile-image-container header-icon",on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("toggle")}}},[e.isRoute("profile-page")?r("span",{staticClass:"underline"}):e._e(),r("img",{attrs:{src:this.loggedInUser.profileImgUrl,alt:""}}),e.headerMenuShownOrNot?r("div",{staticClass:"header-profile-menu-and-triangle"},[r("div",{staticClass:"profile-triangle"}),r("div",{staticClass:"header-profile-logout-menu"},[r("div",{staticClass:"header-profile-to-profile",on:{click:function(t){return t.stopPropagation(),e.sendToProfilePage(e.loggedInUser._id)}}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Profile",fill:"#262626",height:"16",role:"img",viewBox:"0 0 32 32",width:"16"}},[r("path",{attrs:{d:"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}})]),e._v(" Profile ")]),r("div",{staticClass:"header-profile-logout",on:{click:function(t){return t.stopPropagation(),e.logout.apply(null,arguments)}}},[e._v("Log Out")])])]):e._e()])],1),r("div",{staticClass:"header-flex-wide-right"})],1)}),h=[],v=(r("a434"),r("159b"),r("caad"),r("2532"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new-story-menus-container"},[r("div",{staticClass:"menu-background",on:{click:e.closeMenu}}),e.screen1?r("div",{staticClass:"story-upload-image screen1"},[r("div",{staticClass:"story-upload-image-header"},[r("span"),e._v(" New Post "),r("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),r("div",{staticClass:"story-upload-image-body"},[e.isLoading||e.isDragOver?e._e():r("span",[e._v("Drag A Photo Here")]),e.isLoading?r("div",{staticClass:"loading-gif"},[r("img",{attrs:{src:"img/img-loading-circle-of-circles-gif.gif",alt:""}})]):e._e(),e.isLoading?e._e():r("label",{staticClass:"img-upload-label",class:{drag:e.isDragOver},attrs:{for:"img-upload"},on:{drop:function(t){return t.preventDefault(),e.handleFile.apply(null,arguments)},dragover:function(t){t.preventDefault(),e.isDragOver=!0},dragleave:function(t){e.isDragOver=!1}}},[e.isDragOver?e._e():r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Icon to represent media such as images or videos",fill:"#262626",height:"77",role:"img",viewBox:"0 0 97.6 77.3",width:"96"}},[r("path",{attrs:{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z"}}),r("path",{attrs:{d:"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z"}}),r("path",{attrs:{d:"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z"}})]),e.isDragOver?e._e():r("h2",{staticClass:"select-file-directly"},[e._v("Or Select A File Directly")]),r("input",{staticClass:"upload-img",attrs:{type:"file",id:"img-upload"},on:{change:e.handleFile}})]),e.isDragOver?r("div",{staticClass:"drop-file-here"},[e._v(" Drop File Here")]):e._e()])]):e._e(),e.screen2?r("div",{staticClass:"story-add-caption screen2"},[r("div",{staticClass:"add-caption-header"},[r("span",{staticClass:"new-story-back",on:{click:function(t){return e.switchToScreen("1")}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Back",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M40 33.5c-.4 0-.8-.1-1.1-.4L24 18.1l-14.9 15c-.6.6-1.5.6-2.1 0s-.6-1.5 0-2.1l16-16c.6-.6 1.5-.6 2.1 0l16 16c.6.6.6 1.5 0 2.1-.3.3-.7.4-1.1.4z"}})])]),r("h1",[e._v("Compose")]),r("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),r("div",{staticClass:"add-caption-body"},[r("div",{staticClass:"img-container"},[r("img",{attrs:{src:this.newImgUrl,alt:""}})]),r("div",{staticClass:"new-story-caption-container",attrs:{id:"new-story-caption-container"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newStoryText,expression:"newStoryText"}],staticClass:"caption-text",attrs:{name:"",cols:"30",rows:"10",placeholder:"Add a caption..."},domProps:{value:e.newStoryText},on:{input:function(t){t.target.composing||(e.newStoryText=t.target.value)}}}),r("button",{on:{click:function(t){return e.addStory()}}},[e._v("Publish")])])])]):e._e()])}),w=[],y=r("bc3a"),_=r.n(y),k=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="asaphstagram2021",n="Asaphstagram_2021",s="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),o=new FormData,o.append("file",t),o.append("upload_preset",n),e.prev=6,e.next=9,_.a.post(s,o);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),C={data:function(){return{loggedInUser:{},isLoading:!1,screen1:!0,screen2:!1,newStoryText:"",newImgUrl:"",isDragOver:!1}},methods:{switchToScreen:function(e){"1"===e?(this.screen1=!0,this.screen2=!1,this.newImgUrl=""):(this.screen1=!1,this.screen2=!0,this.newStoryText="")},closeMenu:function(){this.$emit("close")},addStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={text:e.newStoryText,imgUrl:e.newImgUrl,createdAt:Date.now(),owner:{_id:e.loggedInUser._id,username:e.loggedInUser.username,profileImgUrl:e.loggedInUser.profileImgUrl},likedBy:[],comments:[]},t.next=3,e.$store.dispatch("addStory",r);case 3:e.$emit("saved");case 4:case"end":return t.stop()}}),t)})))()},handleFile:function(e){var t;"change"===e.type?t=e.target.files[0]:"drop"===e.type&&(t=e.dataTransfer.files[0]),this.onUploadImg(t)},onUploadImg:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,t.isDragOver=!1,r.next=4,k(e);case 4:n=r.sent,t.newImgUrl=n.url,t.isLoading=!1,t.switchToScreen("2");case 8:case"end":return r.stop()}}),r)})))()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.getLoggedInUser(),this.screen1=!0}},x=C,I=Object(c["a"])(x,v,w,!1,null,null,null),b=I.exports,S={name:"app-header",components:{newStory:b},props:{headerMenuShown:Boolean},data:function(){return{loggedInUser:{},userId:"",users:[],searchBarContent:"",searchResultUsers:[],newStoryOn:!1}},methods:{sendToFeed:function(){this.$router.push("/following-feed/"+this.userId)},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},searchDiv:function(){var e=this;this.loadUsers(),this.searchResultUsers.splice(0,this.searchResultUsers.length);var t=this.users.slice();t.forEach((function(t){t.username.toLowerCase().includes(e.searchBarContent.toLowerCase())&&e.searchResultUsers.push(t)}))},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e),location.reload()},logout:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("logout"),e.$router.push("/");case 2:case"end":return t.stop()}}),t)})))()},toggleProfileMenu:function(e){"open"===e?this.$emit("menuTrue"):"close"===e?this.$emit("menuFalse"):"toggle"===e&&(this.headerMenuShownOrNot?this.$emit("menuFalse"):this.$emit("menuTrue"))},isRoute:function(e){return"profile-page"===e?this.$route.name===e&&this.$route.params.userId===this.loggedInUser._id:this.$route.name===e},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&location.reload()}},computed:{headerMenuShownOrNot:function(){return this.headerMenuShown}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),e.userId=e.loggedInUser._id,t.next=6,e.setUsers();case 6:e.loadUsers();case 7:case"end":return t.stop()}}),t)})))()}},O=S,U=Object(c["a"])(O,f,h,!1,null,null,null),R=U.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-user-photo-name"},[r("div",{staticClass:"small-profile-img-story",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[r("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}})]),r("div",{staticClass:"story-owner-username",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(" "+e._s(e.story.owner.username)+" ")]),r("span",{staticClass:"story-options",on:{click:function(t){return e.setToDelete()}}},[r("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])]),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}}):e._e(),e.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openConfirmMenu()}}},[e._v("Delete Post")]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()])},L=[],P={props:{story:Object},data:function(){return{loggedInUser:{},backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.story._id,t.next=3,e.$store.dispatch("deleteStory",r);case 3:location.reload();case 4:case"end":return t.stop()}}),t)})))()},closeBackground:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.backgroundDisplayed=!1},setToDelete:function(){this.openDeleteMenu()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openConfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},deleteConfirmed:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.story._id,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.closeBackground(),location.reload();case 5:case"end":return t.stop()}}),t)})))()},storyByMe:function(){return this.story.owner._id===this.loggedInUser._id}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},B=P,j=Object(c["a"])(B,M,L,!1,null,null,null),T=j.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-image-story",on:{click:function(t){return e.openSingleStory(e.story._id)}}},[r("img",{attrs:{src:e.story.imgUrl,alt:"ERROR!"}})])},$=[],z={props:{story:Object},data:function(){return{example:"EXAMPLE"}},methods:{openSingleStory:function(e){this.$router.push("/single-story/"+e)}},created:function(){}},N=z,F=Object(c["a"])(N,D,$,!1,null,null,null),E=F.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-four-icons-container"},[r("div",{staticClass:"story-four-icons"},[e.likedByMe?e._e():r("span",{on:{click:e.addStoryLike}},[r("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe?r("span",{on:{click:e.removeStoryLike}},[r("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),r("span",{staticClass:"story-comment-icon",on:{click:function(t){return e.openSingleStory(e.story._id)}}},[r("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),r("span",{staticClass:"story-message-icon"},[r("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),r("span",{staticClass:"story-bookmark"},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])])])},H=[],J=(r("7db0"),{props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},openSingleStory:function(e){this.$router.push("/single-story/"+e)},addStoryLike:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("addStoryLike",e.story._id);case 1:case"end":return t.stop()}}),t)})))()},removeStoryLike:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("removeStoryLike",e.story._id);case 2:case"end":return t.stop()}}),t)})))()},addCommentLike:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={storyId:t.story._id,commentId:e},r.next=3,t.$store.dispatch("addCommentLike",n);case 3:case"end":return r.stop()}}),r)})))()},removeCommentlike:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={storyId:t.story._id,commentId:e},r.next=3,t.$store.dispatch("removeCommentlike",n);case 3:case"end":return r.stop()}}),r)})))()}},computed:{likedByMe:function(){var e=this;if(!this.story.likedBy.length)return!1;var t=this.story.likedBy.find((function(t){return t._id===e.loggedInUser._id}));return t}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}}),V=J,W=Object(c["a"])(V,A,H,!1,null,null,null),Y=W.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-liked-by"},[e.story.likedBy.length?r("p",[e._v(" Liked by "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.likedBy[0])}}},[e._v(e._s(e.latestLiker()))]),e._v(" "+e._s(e.likedByMessage())+" ")]):e._e()])},G=[],K={props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},latestLiker:function(){if(this.story.likedBy.length)return this.story.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":this.story.likedBy[0].username},likedByMessage:function(){if(this.story.likedBy.length)return 1===this.story.likedBy.length?"":2===this.story.likedBy.length?"and 1 other":"and ".concat(this.story.likedBy.length-1," others")}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},q=K,Q=Object(c["a"])(q,X,G,!1,null,null,null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"story-text"},[r("p",[r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(e._s(e.story.owner.username))]),e._v(" "+e._s(e.story.text)+" ")])])},te=[],re={props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},ne=re,se=Object(c["a"])(ne,ee,te,!1,null,null,null),oe=se.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-comments"},[e.story.comments.length>1?r("p",{staticClass:"view-all-comments",on:{click:function(t){return e.openSingleStory(e.story._id)}}},[e._v(" View all "+e._s(e.story.comments.length)+" comments ")]):r("p",{staticClass:"view-all-comments",on:{click:function(t){return e.openSingleStory(e.story._id)}}},[e._v(" View full post ")]),e._l(e.story.comments,(function(t,n){return r("ul",{key:t._id},[n<=1?r("li",[r("p",[r("span",{on:{click:function(r){return e.sendToProfilePage(t.by._id)}}},[e._v(e._s(t.by.username))]),e._v(" "+e._s(t.text)+" ")]),r("span",{staticClass:"comment-like-unlike-delete"},[e.commentByMe(t.by._id)?r("span",{staticClass:"delete-comment",on:{click:function(r){return e.setToDelete(t._id)}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(t._id)?e._e():r("span",{staticClass:"comment-like",on:{click:function(r){return e.addCommentLike(e.story._id,t._id)}}},[r("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(t._id)?r("span",{staticClass:"comment-unlike",on:{click:function(r){return e.removeCommentLike(e.story._id,t._id)}}},[r("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]):e._e()])})),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}}):e._e(),e.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openConfirmMenu()}}},[e._v("Delete Comment")]),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()],2)},ae=[],ce=(r("c740"),{props:{story:Object},data:function(){return{loggedInUser:{},commentToDelete:"",backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},openSingleStory:function(e){this.$router.push("/single-story/"+e)},commentByMe:function(e){return e===this.loggedInUser._id},closeBackground:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.backgroundDisplayed=!1,this.commentToDelete=""},setToDelete:function(e){this.commentToDelete=e,this.openDeleteMenu()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openConfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},deleteConfirmed:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={storyId:e.story._id,commentId:e.commentToDelete},t.next=3,e.$store.dispatch("deleteComment",r);case 3:e.closeBackground();case 4:case"end":return t.stop()}}),t)})))()},addCommentLike:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={storyId:e,commentId:t},n.next=3,r.$store.dispatch("addCommentLike",s);case 3:case"end":return n.stop()}}),n)})))()},removeCommentLike:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={storyId:e,commentId:t},n.next=3,r.$store.dispatch("removeCommentLike",s);case 3:case"end":return n.stop()}}),n)})))()},commentLikedByMe:function(e){var t=this,r=this.story.comments.findIndex((function(t){return t._id===e})),n=this.story.comments[r].likedBy.find((function(e){return e===t.loggedInUser._id}));return n}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}}),ue=ce,le=Object(c["a"])(ue,ie,ae,!1,null,null,null),de=le.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),e.story.createdAt).toUpperCase())+" ")])},ge=[],me={props:{story:Object},data:function(){return{}},methods:{timeDifference:function(e,t){var r=6e4,n=60*r,s=24*n,o=30*s,i=365*s,a=e-t;return a<r?Math.round(a/1e3)+" seconds ago":a<n?Math.round(a/r)+" minutes ago":a<s?Math.round(a/n)+" hours ago":a<o?"about "+Math.round(a/s)+" days ago":a<i?"about "+Math.round(a/o)+" months ago":"about "+Math.round(a/i)+" years ago"}},created:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},fe=me,he=Object(c["a"])(fe,pe,ge,!1,null,null,null),ve=he.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-add-comment"},[r("form",{attrs:{method:"POST"},on:{submit:function(t){return e.addComment(e.story._id,t)}}},[r("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[r("div",[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),r("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),r("div",{}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInput,expression:"newCommentInput"}],staticClass:"comment-text-area",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInput},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addComment(e.story._id,t)},input:function(t){t.target.composing||(e.newCommentInput=t.target.value)}}}),r("button",{attrs:{type:"submit"},on:{click:function(t){return e.addComment(e.story._id,t)}}},[e._v(" Post ")])])])},ye=[],_e={props:{story:Object},data:function(){return{loggedInUser:{},newCommentInput:""}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addComment:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.shiftKey){n.next=2;break}return n.abrupt("return");case 2:if(t.preventDefault(),r.newCommentInput){n.next=6;break}return console.log("No text"),n.abrupt("return");case 6:return s={storyId:e,text:r.newCommentInput},n.next=9,r.$store.dispatch("addComment",s);case 9:r.newCommentInput="";case 10:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},ke=_e,Ce=Object(c["a"])(ke,we,ye,!1,null,null,null),xe=Ce.exports,Ie={components:{appHeader:R,storyUserPhotoName:T,mainImageStory:E,storyFourIcons:Y,storyLikedBy:Z,storyText:oe,storyComments:de,storyHowLongAgo:ve,storyAddComment:xe},data:function(){return{loggedInUser:{},numStoriesToShow:6,stories:[],storiesFollowing:[],storiesToShow:[],users:[],headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){this.stories=this.$store.state.stories},loadLimitedStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStories();case 2:r=e.stories.sort((function(t,r){return t.createdAt/e.randomInt(1,10)<r.createdAt/e.randomInt(1,10)?1:-1})),e.storiesFollowing=r,e.storiesToShow=r.slice(0,e.numStoriesToShow);case 5:case"end":return t.stop()}}),t)})))()},randomInt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},loadMoreStories:function(){this.numStoriesToShow+=6,this.loadLimitedStories()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},reloadPage:function(){location.reload()},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),r=e.$route.params.userId,n=e.loggedInUser._id,r!==n&&(console.log("user ID: ",r,"logged in ID: ",n),e.$router.push("/")),t.next=8,e.setUsers();case 8:return e.loadUsers(),t.next=11,e.setStories();case 11:e.loadLimitedStories();case 12:case"end":return t.stop()}}),t)})))()}},be=Ie,Se=Object(c["a"])(be,p,g,!1,null,null,null),Oe=Se.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{menuTrue:function(t){return e.headerProfileMenuChange(!0)},menuFalse:function(t){return e.headerProfileMenuChange(!1)}}}),r("div",{staticClass:"stories-container"},e._l(this.storiesToShow,(function(t){return r("ul",{key:t._id,staticClass:"story-list"},[r("li",[r("div",{staticClass:"single-story-container"},[r("storyUserPhotoName",{attrs:{story:t},on:{storyDeleted:e.reloadPage}}),r("mainImageStory",{attrs:{story:t}}),r("div",{staticClass:"story-after-photo"},[r("storyFourIcons",{attrs:{story:t}}),r("storyLikedBy",{attrs:{story:t}}),r("storyText",{attrs:{story:t}}),r("storyComments",{attrs:{story:t}}),r("storyHowLongAgo",{attrs:{story:t}}),r("storyAddComment",{attrs:{story:t}})],1)],1)])])})),0),e.storiesFollowing.length>e.numStoriesToShow?r("div",{staticClass:"load-more-stories",on:{click:e.loadMoreStories}},[r("h1",[e._v("Load More Posts")])]):e._e()],1)},Re=[],Me=(r("4de4"),{components:{appHeader:R,storyUserPhotoName:T,mainImageStory:E,storyFourIcons:Y,storyLikedBy:Z,storyText:oe,storyComments:de,storyHowLongAgo:ve,storyAddComment:xe},data:function(){return{loggedInUser:{},numStoriesToShow:6,stories:[],storiesFollowing:[],storiesToShow:[],users:[],headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){this.stories=this.$store.state.stories},loadLimitedStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStories();case 2:r=e.users.find((function(t){return t._id===e.loggedInUser._id})),e.storiesFollowing=e.stories.filter((function(e){return r.following.find((function(t){return t===e.owner._id}))})),n=e.storiesFollowing.slice(0,e.numStoriesToShow),e.storiesToShow=n.slice();case 6:case"end":return t.stop()}}),t)})))()},loadMoreStories:function(){this.numStoriesToShow+=6,this.loadLimitedStories()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e},reloadPage:function(){location.reload()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),r=e.$route.params.userId,n=e.loggedInUser._id,r!==n&&(console.log("user ID: ",r,"logged in ID: ",n),e.$router.push("/")),t.next=8,e.setUsers();case 8:return e.loadUsers(),t.next=11,e.setStories();case 11:e.loadLimitedStories();case 12:case"end":return t.stop()}}),t)})))()}}),Le=Me,Pe=Object(c["a"])(Le,Ue,Re,!1,null,null,null),Be=Pe.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-page-container"},[e._m(0),e._m(1),r("div",{staticClass:"login-inputs-container"},[r("form",{attrs:{action:"submit"},on:{submit:function(t){return t.preventDefault(),e.login(e.usernameInput,e.passwordInput)}}},[r("div",{staticClass:"login-password-inputs"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.usernameInput,expression:"usernameInput"}],staticClass:"username-input",attrs:{type:"text",placeholder:"User Name"},domProps:{value:e.usernameInput},on:{input:function(t){t.target.composing||(e.usernameInput=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordInput,expression:"passwordInput"}],staticClass:"password-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.passwordInput},on:{input:function(t){t.target.composing||(e.passwordInput=t.target.value)}}})]),r("button",{staticClass:"login-submit"},[e._v("Log In")])])]),r("div",{staticClass:"login-for-guests-container"},[r("h2",[e._v("Or Log In As:")]),r("div",{staticClass:"login-3-photos"},[r("div",{staticClass:"login-bugs-bunny login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Bugs_Bunny","bugsbunnypassword")}}},[r("img",{staticStyle:{background:"white"},attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628445908/Bugs%20Bunny/Bugsbunny2011_wwesmc.png",alt:""}}),r("h1",[e._v("Bugs_Bunny")])]),r("div",{staticClass:"login-wonder-woman login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Wonder_Woman","wonderwomanpassword")}}},[r("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628446001/Wonder%20Woman/Wonder_Woman_Annual_Vol_5_1_a00h1m.png",alt:""}}),r("h1",[e._v("Wonder_Woman")])]),r("div",{staticClass:"login-yoda login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Yoda","yodapassword")}}},[r("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628446008/Yoda/Yoda_Attack_of_the_Clones_gxl5dl.png",alt:""}}),r("h1",[e._v("Yoda")])])])])])},Te=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-page-background-img-container"},[r("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1629247438/Boston_Skyline__SONY_NEX-5_Panorama_Mode__4765830049_krt0me.jpg",alt:"Sorry, no image here"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"login-page-first-headline"},[r("span",[e._v("Asaphstagram")])])}],De={data:function(){return{loggedInUser:{},users:[],usernameInput:"",passwordInput:""}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent,e.loggedInUser._id&&e.sendToFeed(e.loggedInUser._id);case 4:case"end":return t.stop()}}),t)})))()},sendToFeed:function(e){this.$router.push("/following-feed/"+e)},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},login:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={username:e,password:t},n.next=3,r.$store.dispatch("login",s);case 3:o=n.sent,o&&(r.usernameInput="",r.passwordInput="",r.$router.push("/following-feed/"+o._id));case 5:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return t.next=4,e.setUsers();case 4:e.loadUsers();case 5:case"end":return t.stop()}}),t)})))()}},$e=De,ze=Object(c["a"])($e,je,Te,!1,null,null,null),Ne=ze.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.storiesToShow&&e.pageOwner?r("section",{staticClass:"profile-page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{menuTrue:function(t){return e.headerProfileMenuChange(!0)},menuFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}}):e._e(),e.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openConfirmMenu()}}},[e._v("Delete Post")]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e(),e.followBackground?r("div",{staticClass:"profile-page-follow-unfollow-background",on:{click:function(t){t.stopPropagation(),e.followBackground=!1}}},[r("div",{staticClass:"follow-unfollow-menu"},[r("div",{staticClass:"follow-unfollow-statement"},[e.loggedInFollowing()?r("span",{staticClass:"follow-unfollow-statement-yes"},[e._v("You "),r("span",[e._v("Are")]),e._v(" Following "+e._s(e.pageOwner.username))]):e._e(),e.loggedInFollowing()?e._e():r("span",{staticClass:"follow-unfollow-statement-no"},[e._v("You "),r("span",[e._v("Are NOT")]),e._v(" Following "+e._s(e.pageOwner.username))])]),e.loggedInFollowing()?e._e():r("div",{staticClass:"follow-user",on:{click:function(t){return t.stopPropagation(),e.addFollow()}}},[e._v("Follow")]),e.loggedInFollowing()?r("div",{staticClass:"unfollow-user",on:{click:function(t){return t.stopPropagation(),e.deleteFollow()}}},[e._v("Unfollow")]):e._e(),r("div",{staticClass:"folow-unfollow-user-cancel",on:{click:function(t){t.stopPropagation(),e.followBackground=!1}}},[e._v("Cancel")])])]):e._e(),r("div",{staticClass:"profile-page-upper-part"},[r("div",{staticClass:"profile-page-profile-photo"},[r("img",{attrs:{src:this.pageOwner.profileImgUrl,alt:""}})]),r("div",{staticClass:"profile-page-texts-container"},[r("div",{staticClass:"profile-page-username-options"},[r("span",{staticClass:"profile-page-username"},[e._v(e._s(e.pageOwner.username))]),r("span",{staticClass:"profile-page-options",on:{click:function(t){e.followBackground=!0}}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Options",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),r("div",{staticClass:"post-follower-following-count"},[r("div",[r("span",[e._v(e._s(e.pageOwner.ownedStories.length||0))]),e._v(" Posts")]),r("div",[r("span",[e._v(e._s(e.pageOwner.followers.length||0))]),e._v(" Followers")]),r("div",[r("span",[e._v(e._s(e.pageOwner.following.length||0))]),e._v(" Following")])]),r("div",{staticClass:"fullname"},[e._v(" "+e._s(e.pageOwner.fullname)+" ")]),e.editingNow?e._e():r("div",{staticClass:"profile-text"},[e._v(" "+e._s(e.pageOwner.profileText)+" "),e.pageOwner._id===e.loggedInUser._id?r("span",{staticClass:"edit-profile-text",on:{click:function(t){e.editingNow=!0}}},[e._v("Edit Text")]):e._e()]),e.editingNow?r("div",{staticClass:"profile-text-editing-area"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.profileTextEdit,expression:"profileTextEdit"}],attrs:{name:"",id:""},domProps:{value:e.profileTextEdit},on:{input:function(t){t.target.composing||(e.profileTextEdit=t.target.value)}}}),e.pageOwner.profileText!==e.profileTextEdit?r("span",{staticClass:"save-edit-profile-text",on:{click:function(t){return e.saveNewProfileText(e.profileTextEdit)}}},[e._v("Save")]):e._e(),e.pageOwner.profileText===e.profileTextEdit?r("span",{staticClass:"cancel-edit-profile-text",on:{click:function(t){e.editingNow=!1}}},[e._v("Cancel")]):e._e()]):e._e(),e.pageOwnerFollowers?r("div",{staticClass:"followers-detailed"},[e.pageOwnerFollowers.length?r("div",[e._v("Followed by "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[0]._id)}}},[e._v(e._s(e.pageOwnerFollowers[0].username))])]):e._e(),2===e.pageOwnerFollowers.length?r("div",[e._v(" and "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))])]):e._e(),3===e.pageOwnerFollowers.length?r("div",[e._v(", "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and 1 other")]):e._e(),e.pageOwnerFollowers.length>3?r("div",[e._v(", "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and "),r("span",{staticClass:"no-cursor-change"},[e._v(e._s(e.pageOwnerFollowers.length-2))]),e._v(" others")]):e._e()]):e._e()])]),r("div",{staticClass:"profile-page-lower-part"},[r("div",{staticClass:"dividing-line"}),r("div",{staticClass:"profile-page-lower-part-title"},[r("span",[r("svg",{attrs:{height:"12",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}})]),r("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}}),e._v(" Posts ")])]),this.storiesToShow.length?e._e():r("div",{staticClass:"no-posts-yet"},[e._v("No Posts yet...")]),this.storiesToShow.length?r("ul",{staticClass:"profile-page-story-list"},e._l(this.storiesToShow,(function(t){return r("li",{key:t._id},[r("div",{staticClass:"profile-page-story-tile",on:{click:function(r){return e.sendToSingleStory(t._id)}}},[r("div",{staticClass:"tile-background"},[r("span",{staticClass:"tile-background-options",on:{click:function(r){return r.stopPropagation(),e.setToDelete(t._id)}}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])]),r("span",{staticClass:"tile-background-likes"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),e._v(" "+e._s(t.likedBy.length||0)+" ")]),r("span",{staticClass:"tile-background-comments"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})]),e._v(" "+e._s(t.comments.length||0)+" ")])]),r("div",{staticClass:"tile-image"},[r("img",{attrs:{src:t.imgUrl,alt:""}})])])])})),0):e._e()])],1):e._e()},Ee=[],Ae={components:{appHeader:R},data:function(){return{stories:[],loggedInUser:{},userId:"",pageOwner:{},pageOwnerFollowers:[],users:[],storiesToShow:[],backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,storyToDelete:"",headerMenuShown:!1,editingNow:!1,profileTextEdit:"",followBackground:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){var e=this;this.stories=this.$store.state.stories,this.storiesToShow=this.stories.filter((function(t){return t.owner._id===e.userId}))},filterFollowers:function(){var e=this,t=this.pageOwner.followers.filter((function(t){return t!==e.pageOwner._id}));this.pageOwnerFollowers=this.users.filter((function(e){return t.find((function(t){return t===e._id}))}))},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},upgradeLoggedInUser:function(){var e=this;this.loggedInUser=this.users.find((function(t){return t._id===e.loggedInUser._id}))},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},storyByMe:function(){return this.loggedInUser._id===this.pageOwner._id},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openConfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},setToDelete:function(e){this.storyToDelete=e,this.openDeleteMenu()},deleteConfirmed:function(){this.deleteStory(),this.closeBackground()},sendToProfilePage:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$router.push("/profile-page/"+e),location.reload();case 2:case"end":return r.stop()}}),r)})))()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.storyToDelete="",e.loadStories();case 5:case"end":return t.stop()}}),t)})))()},sendToSingleStory:function(e){this.$router.push("/single-story/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e},saveNewProfileText:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.pageOwner,n.profileText=e,r.next=4,t.$store.dispatch("saveNewProfileText",n);case 4:s=r.sent,"SUCCESS"===s?t.pageOwner.profileText=e:console.log("PROBLEM WITH SAVING TEXT!"),t.editingNow=!1;case 7:case"end":return r.stop()}}),r)})))()},addFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedInUser.following.unshift(e.pageOwner._id),e.pageOwner.followers.unshift(e.loggedInUser._id),r={follower:e.loggedInUser,following:e.pageOwner},t.next=5,e.$store.dispatch("addFollow",r);case 5:n=t.sent,"SUCCESS"===n&&console.log("SUCCESS FOLLOW!!!"),e.followBackground=!1;case 8:case"end":return t.stop()}}),t)})))()},deleteFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.loggedInUser.following.findIndex((function(t){return t===e.pageOwner._id})),e.loggedInUser.following.splice(r,1),n=e.pageOwner.followers.findIndex((function(t){return t===e.loggedInUser._id})),e.pageOwner.followers.splice(n,1),s={follower:e.loggedInUser,following:e.pageOwner},t.next=7,e.$store.dispatch("deleteFollow",s);case 7:o=t.sent,"SUCCESS"===o&&console.log("SUCCESS UNFOLLOW!!!"),e.followBackground=!1;case 10:case"end":return t.stop()}}),t)})))()},loggedInFollowing:function(){var e=this;return this.loggedInUser.following.find((function(t){return t===e.pageOwner._id}))}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.userId=e.$route.params.userId,e.loggedInUser._id||e.$router.push("/"),t.next=6,e.setUsers();case 6:return t.next=8,e.setStories();case 8:e.loadUsers(),e.loadStories(),e.pageOwner=e.users.find((function(t){return t._id===e.userId})),e.filterFollowers(),e.upgradeLoggedInUser(),e.profileTextEdit=e.pageOwner.profileText;case 14:case"end":return t.stop()}}),t)})))()}},He=Ae,Je=Object(c["a"])(He,Fe,Ee,!1,null,null,null),Ve=Je.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story._id?r("div",{staticClass:"single-page-story-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{menuTrue:function(t){return e.headerProfileMenuChange(!0)},menuFalse:function(t){return e.headerProfileMenuChange(!1)}}}),r("div",{staticClass:"single-story-on-page-container"},[r("mainImageStory",{attrs:{story:e.story}}),r("div",{staticClass:"single-story-not-the-image"},[r("storyUserPhotoName",{attrs:{story:e.story}}),r("storyText",{attrs:{story:e.story}}),r("storyComments",{attrs:{story:e.story}}),r("div",{staticClass:"story-after-comments"},[r("storyFourIcons",{attrs:{story:e.story}}),r("storyLikedBy",{attrs:{story:e.story}}),r("storyHowLongAgo",{attrs:{story:e.story}}),r("storyAddComment",{attrs:{story:e.story}})],1)],1)],1)],1):e._e()},Ye=[],Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.imgUrl?r("section",{staticClass:"single-story-main-image"},[r("img",{attrs:{src:e.story.imgUrl,alt:"ERROR!"}})]):e._e()},Ge=[],Ke={props:{story:Object},data:function(){return{example:"EXAMPLE"}},methods:{openSingleStory:function(e){this.$router.push("/single-story/"+e)}},created:function(){}},qe=Ke,Qe=Object(c["a"])(qe,Xe,Ge,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.owner._id?r("section",{staticClass:"story-user-photo-name-2"},[r("div",{staticClass:"small-profile-img-story-2",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[r("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}}),r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(" "+e._s(e.story.owner.username)+" ")])]),r("span",{staticClass:"story-options",on:{click:function(t){return e.setToDelete()}}},[r("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])]),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}}):e._e(),e.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openConfirmMenu()}}},[e._v("Delete Post")]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e()},tt=[],rt={props:{story:Object},data:function(){return{loggedInUser:{},backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.story._id,t.next=3,e.$store.dispatch("deleteStory",r);case 3:location.reload();case 4:case"end":return t.stop()}}),t)})))()},closeBackground:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.backgroundDisplayed=!1},setToDelete:function(){this.openDeleteMenu()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openConfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},deleteConfirmed:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.story._id,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.closeBackground(),location.reload();case 5:case"end":return t.stop()}}),t)})))()},storyByMe:function(){return this.story.owner._id===this.loggedInUser._id}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},nt=rt,st=Object(c["a"])(nt,et,tt,!1,null,null,null),ot=st.exports,it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.text?r("section",{staticClass:"single-story-text"},[r("div",{staticClass:"small-profile-img-story-2-comment",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[r("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}})]),r("p",[r("span",{staticClass:"story-text-user-name",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(e._s(e.story.owner.username))]),e._v(" "+e._s(e.story.text)+" ")])]):e._e()},at=[],ct={props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},ut=ct,lt=Object(c["a"])(ut,it,at,!1,null,null,null),dt=lt.exports,pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.comments?r("section",{staticClass:"single-story-comments"},[e._l(e.story.comments,(function(t){return r("ul",{key:t._id},[r("li",{staticClass:"single-story-single-comment"},[t._id?r("div",{staticClass:"comment-everything-but-like-counter"},[r("span",{staticClass:"small-profile-img-comment",on:{click:function(r){return e.sendToProfilePage(t.by._id)}}},[r("img",{attrs:{src:t.by.profileImgUrl,alt:"ERROR"}})]),r("p",[t.text?r("span",{on:{click:function(r){return e.sendToProfilePage(t.by._id)}}},[e._v(e._s(t.by.username))]):e._e(),e._v(" "+e._s(t.text)+" ")]),r("div",{staticClass:"delete-like-unlike-comment"},[e.commentByMe(t.by._id)?r("span",{staticClass:"delete-comment",on:{click:function(r){return e.setToDelete(t._id)}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(t._id)?e._e():r("span",{staticClass:"comment-like",on:{click:function(r){return e.addCommentLike(e.story._id,t._id)}}},[r("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(t._id)?r("span",{staticClass:"comment-unlike",on:{click:function(r){return e.removeCommentLike(e.story._id,t._id)}}},[r("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]):e._e(),t.likedBy.length?r("div",{staticClass:"comment-how-many-likes"},[e._v(" "+e._s(e.commentLikeMessage(t))+" ")]):e._e()])])})),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}}):e._e(),e.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openConfirmMenu()}}},[e._v("Delete Comment")]),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()],2):e._e()},gt=[],mt={props:{story:Object},data:function(){return{loggedInUser:{},commentToDelete:"",backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},openSingleStory:function(e){this.$router.push("/single-story/"+e)},commentByMe:function(e){return e===this.loggedInUser._id},closeBackground:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.backgroundDisplayed=!1,this.commentToDelete=""},setToDelete:function(e){this.commentToDelete=e,this.openDeleteMenu()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openConfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},deleteConfirmed:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={storyId:e.story._id,commentId:e.commentToDelete},t.next=3,e.$store.dispatch("deleteComment",r);case 3:e.closeBackground(),n=e.$store.state.stories.find((function(t){return t._id===e.story._id})),e.story.comments=n.comments;case 6:case"end":return t.stop()}}),t)})))()},addCommentLike:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={storyId:e,commentId:t},n.next=3,r.$store.dispatch("addCommentLike",s);case 3:o=r.$store.state.stories.find((function(e){return e._id===r.story._id})),r.story.comments=o.comments;case 5:case"end":return n.stop()}}),n)})))()},removeCommentLike:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={storyId:e,commentId:t},n.next=3,r.$store.dispatch("removeCommentLike",s);case 3:o=r.$store.state.stories.find((function(e){return e._id===r.story._id})),r.story.comments=o.comments;case 5:case"end":return n.stop()}}),n)})))()},commentLikeMessage:function(e){return e.likedBy.length?1===e.likedBy.length?"1 like":e.likedBy.length>1?"".concat(e.likedBy.length," likes"):void 0:""},commentLikedByMe:function(e){var t=this,r=this.story.comments.findIndex((function(t){return t._id===e})),n=this.story.comments[r].likedBy.find((function(e){return e===t.loggedInUser._id}));return n}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},ft=mt,ht=Object(c["a"])(ft,pt,gt,!1,null,null,null),vt=ht.exports,wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.likedBy?r("section",{staticClass:"story-four-icons"},[e.likedByMe?e._e():r("span",{on:{click:function(t){return e.addStoryLike()}}},[r("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe?r("span",{on:{click:function(t){return e.removeStoryLike()}}},[r("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),r("span",{staticClass:"story-comment-icon"},[r("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),r("span",{staticClass:"story-message-icon"},[r("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),r("span",{staticClass:"story-bookmark"},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])]):e._e()},yt=[],_t={props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},openSingleStory:function(e){this.$router.push("/single-story/"+e)},addStoryLike:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("addStoryLike",e.story._id),r=e.$store.state.stories.find((function(t){return t._id===e.story._id})),e.story.likedBy=r.likedBy;case 3:case"end":return t.stop()}}),t)})))()},removeStoryLike:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("removeStoryLike",e.story._id);case 2:r=e.$store.state.stories.find((function(t){return t._id===e.story._id})),e.story.likedBy=r.likedBy;case 4:case"end":return t.stop()}}),t)})))()}},computed:{likedByMe:function(){var e=this;if(!this.story.likedBy.length)return!1;var t=this.story.likedBy.find((function(t){return t._id===e.loggedInUser._id}));return t}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},kt=_t,Ct=Object(c["a"])(kt,wt,yt,!1,null,null,null),xt=Ct.exports,It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.likedBy?r("section",{staticClass:"story-liked-by"},[e.story.likedBy.length?r("p",[e._v(" Liked by "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.likedBy[0])}}},[e._v(e._s(e.latestLiker(e.story)))]),e._v(" "+e._s(e.likedByMessage())+" ")]):e._e()]):e._e()},bt=[],St={props:{story:Object},data:function(){return{loggedInUser:{}}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},latestLiker:function(){if(this.story.likedBy.length)return this.story.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":this.story.likedBy[0].username},likedByMessage:function(){if(this.story.likedBy.length)return 1===this.story.likedBy.length?"":2===this.story.likedBy.length?"and 1 other":"and ".concat(this.story.likedBy.length-1," others")}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},Ot=St,Ut=Object(c["a"])(Ot,It,bt,!1,null,null,null),Rt=Ut.exports,Mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.story.createdAt?r("section",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),e.story.createdAt).toUpperCase())+" ")]):e._e()},Lt=[],Pt={props:{story:Object},data:function(){return{}},methods:{timeDifference:function(e,t){var r=6e4,n=60*r,s=24*n,o=30*s,i=365*s,a=e-t;return a<r?Math.round(a/1e3)+" seconds ago":a<n?Math.round(a/r)+" minutes ago":a<s?Math.round(a/n)+" hours ago":a<o?"about "+Math.round(a/s)+" days ago":a<i?"about "+Math.round(a/o)+" months ago":"about "+Math.round(a/i)+" years ago"}},created:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},Bt=Pt,jt=Object(c["a"])(Bt,Mt,Lt,!1,null,null,null),Tt=jt.exports,Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"story-add-comment"},[r("form",{attrs:{method:"POST"},on:{submit:function(t){return e.addComment(e.story._id,t)}}},[r("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[r("div",{},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),r("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),r("div",{}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInput,expression:"newCommentInput"}],staticClass:"Ypffh",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInput},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addComment(e.story._id,t)},input:function(t){t.target.composing||(e.newCommentInput=t.target.value)}}}),r("button",{attrs:{type:"submit"},on:{click:function(t){return e.addComment(e.story._id,t)}}},[e._v(" Post ")])])])},$t=[],zt={props:{story:Object},data:function(){return{loggedInUser:{},newCommentInput:""}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addComment:function(e,t){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.shiftKey){n.next=2;break}return n.abrupt("return");case 2:if(t.preventDefault(),r.newCommentInput){n.next=6;break}return console.log("No text"),n.abrupt("return");case 6:return s={storyId:e,text:r.newCommentInput},n.next=9,r.$store.dispatch("addComment",s);case 9:r.newCommentInput="",o=r.$store.state.stories.find((function(e){return e._id===r.story._id})),r.story.comments=o.comments;case 12:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:case"end":return t.stop()}}),t)})))()}},Nt=zt,Ft=Object(c["a"])(Nt,Dt,$t,!1,null,null,null),Et=Ft.exports,At=(r("d3b7"),{query:Ht,_save:sr,_makeId:fr,_loadStories:ur,getLoggedInUser:Vt,addComment:er,deleteComment:rr,addStory:ar,deleteStory:or,_loadUsers:gr,getRandomIntInclusive:hr,saveNewProfileText:vr,updateFollow:yr,login:kr,logout:xr,addStoryLike:Wt,removeStoryLike:Xt,addCommentLike:Kt,removeCommentLike:Qt,getSingleStory:dr});function Ht(e){return Jt.apply(this,arguments)}function Jt(){return Jt=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,"/story"!==t&&"/user"!==t&&"/username"!==t){e.next=7;break}return e.next=4,_.a.get(t+"/"+r);case 4:n=e.sent,e.next=11;break;case 7:if("/userAll"!==t&&"/storyAll"!==t){e.next=11;break}return e.next=10,_.a.get(t);case 10:n=e.sent;case 11:if("/storyAll"!==t){e.next=14;break}return s=JSON.parse(JSON.stringify(n.data)).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),e.abrupt("return",Promise.resolve(JSON.parse(JSON.stringify(s))));case 14:return e.abrupt("return",Promise.resolve(JSON.parse(JSON.stringify(n.data))));case 15:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}function Vt(){var e=JSON.parse(localStorage.getItem("loggedInUser"));return e}function Wt(e){return Yt.apply(this,arguments)}function Yt(){return Yt=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),e.next=3,Ht("/story",t);case 3:return n=e.sent,s={_id:r._id,username:r.username,profileImgUrl:r.profileImgUrl},n.likedBy.unshift(s),o={},o.storyId=t,o.likeToAdd=s,i=JSON.parse(JSON.stringify(n)),e.next=12,_.a.put("/story",i);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),Yt.apply(this,arguments)}function Xt(e){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),e.next=3,Ht("/story",t);case 3:return n=e.sent,s=n.likedBy.findIndex((function(e){return e._id===r._id})),o={storyId:t,likeIdx:s},n.likedBy.splice(s,1),i=JSON.parse(JSON.stringify(n)),e.next=10,_.a.put("/story",i);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Kt(e){return qt.apply(this,arguments)}function qt(){return qt=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),e.next=3,Ht("/story",t.storyId);case 3:return n=e.sent,s=n.comments.findIndex((function(e){return e._id===t.commentId})),o=t,o.commentIdx=s,n.comments[s].likedBy.unshift(r._id),i=JSON.parse(JSON.stringify(n)),e.next=11,_.a.put("/story",i);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}function Qt(e){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),e.next=3,Ht("/story",t.storyId);case 3:return n=e.sent,s=n.comments.findIndex((function(e){return e._id===t.commentId})),o=n.comments[s].likedBy.findIndex((function(e){return e===r._id})),i=t,i.commentIdx=s,i.commentLikeIdx=o,n.comments[s].likedBy.splice(o,1),a=JSON.parse(JSON.stringify(n)),e.next=13,_.a.put("/story",a);case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}function er(e){return tr.apply(this,arguments)}function tr(){return tr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),n={_id:fr(),by:{_id:r._id,username:r.username,profileImgUrl:r.profileImgUrl},text:t.text,likedBy:[]},e.next=4,Ht("/story",t.storyId);case 4:return s=e.sent,s.comments.push(n),t.newComment=n,e.next=9,_.a.put("/story",s);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function rr(e){return nr.apply(this,arguments)}function nr(){return nr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht("/story",t.storyId);case 2:return r=e.sent,n=r.comments.findIndex((function(e){return e._id===t.commentId})),r.comments.splice(n,1),e.next=7,_.a.put("/story",r);case 7:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function sr(e,t){localStorage.setItem(e,JSON.stringify(t))}function or(e){return ir.apply(this,arguments)}function ir(){return ir=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(),e.next=3,_.a.delete("/story/"+t);case 3:return e.next=5,Ht("/user",r._id);case 5:if(n=e.sent,s=n.ownedStories.findIndex((function(e){return e===t})),!(s<0||void 0===s)){e.next=10;break}return console.log("ERROR! CANNOT DELETE FROM USER OWNED STORIES!!!"),e.abrupt("return");case 10:return n.ownedStories.splice(s,1),e.next=13,_.a.put("/user",n);case 13:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e){return cr.apply(this,arguments)}function cr(){return cr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("/story",t);case 2:return r=e.sent,e.next=5,Ht("/user",r.data.owner._id);case 5:return n=e.sent,n.ownedStories.unshift(r.data._id),e.next=9,_.a.put("/user",n);case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function ur(){return lr.apply(this,arguments)}function lr(){return lr=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht("/storyAll");case 2:return t=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(t)));case 4:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function dr(e){return pr.apply(this,arguments)}function pr(){return pr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht("/story",t);case 2:return r=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(r)));case 4:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function gr(){return mr.apply(this,arguments)}function mr(){return mr=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht("/userAll");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function fr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function hr(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}function vr(e){return wr.apply(this,arguments)}function wr(){return wr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("/user",t);case 2:if(r=e.sent,200!==r.status){e.next=5;break}return e.abrupt("return","SUCCESS");case 5:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function yr(e){return _r.apply(this,arguments)}function _r(){return _r=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("/user",t.follower);case 2:return r=e.sent,e.next=5,_.a.put("/user",t.following);case 5:if(n=e.sent,200!==r.status||200!==n.status){e.next=8;break}return e.abrupt("return","SUCCESS");case 8:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function kr(e){return Cr.apply(this,arguments)}function Cr(){return Cr=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("/login",t);case 2:if(r=e.sent,200!==r.status){e.next=13;break}return n={},n._id=r.data._id,n.username=r.data.username,n.fullname=r.data.fullname,n.profileImgUrl=r.data.profileImgUrl,sr("loggedInUser",n),e.abrupt("return",r.data);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function xr(){var e={};sr("loggedInUser",e)}var Ir={components:{appHeader:R,mainImageStory:Ze,storyUserPhotoName:ot,storyText:dt,storyComments:vt,storyFourIcons:xt,storyLikedBy:Rt,storyHowLongAgo:Tt,storyAddComment:Et},data:function(){return{story:{},stories:[],users:[],loggedInUser:{},headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:e.stories=e.$store.state.stories;case 3:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.storyId,t.next=3,At.getSingleStory(r);case 3:n=t.sent,e.story=n;case 5:case"end":return t.stop()}}),t)})))()},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),t.next=5,e.setStories();case 5:return t.next=7,e.setUsers();case 7:return e.loadUsers(),t.next=10,e.getStory();case 10:case"end":return t.stop()}}),t)})))()}},br=Ir,Sr=Object(c["a"])(br,We,Ye,!1,null,null,null),Or=Sr.exports,Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.storiesLoaded?r("div",{staticClass:"liked-stories-page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{menuTrue:function(t){return e.headerProfileMenuChange(!0)},menuFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?r("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete Post")]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, cancel")])])]):e._e()]):e._e(),r("div",{staticClass:"liked-stories-page-headline"},[e._v("Hi "+e._s(e.pageOwner.username)+'! Here are the posts you\'ve "liked" so far:')]),this.storiesToShow.length?e._e():r("div",{staticClass:"no-posts-yet"},[e._v('Oops! It seems you haven\'t "liked" any posts yet...')]),this.storiesToShow.length?r("ul",{staticClass:"liked-stories-page-story-list"},e._l(this.storiesToShow,(function(t){return r("li",{key:t._id},[r("div",{staticClass:"liked-stories-page-story-tile",on:{click:function(r){return e.sendToSingleStory(t._id)}}},[r("div",{staticClass:"tile-background"},[r("span",{staticClass:"tile-background-likes"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),e._v(" "+e._s(t.likedBy.length||0)+" ")]),r("span",{staticClass:"tile-background-comments"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})]),e._v(" "+e._s(t.comments.length||0)+" ")])]),r("div",{staticClass:"tile-image"},[r("img",{attrs:{src:t.imgUrl,alt:""}})])])])})),0):e._e()],1):e._e()},Rr=[],Mr={components:{appHeader:R,newStory:b},data:function(){return{stories:[],storiesLoaded:!1,loggedInUser:{},userId:"",pageOwner:{},pageOwnerFollowers:[],users:[],storiesToShow:[],backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,storyToDelete:{},headerMenuShown:!1,editingNow:!1,profileTextEdit:"",followBackground:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){var e=this;this.stories=this.$store.state.stories;var t=this.stories.filter((function(t){return t.likedBy.find((function(t){return t._id===e.loggedInUser._id}))}));this.storiesToShow=t,this.storiesLoaded=!0},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},upgradeLoggedInUser:function(){var e=this;this.loggedInUser=this.users.find((function(t){return t._id===e.loggedInUser._id}))},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},storyByMe:function(){return this.loggedInUser._id===this.pageOwner._id},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadStories()},setToDelete:function(e){this.storyToDelete=e,this.openDeleteMenu()},sendToProfilePage:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$router.push("/profile-page/"+e),location.reload();case 2:case"end":return r.stop()}}),r)})))()},deleteConfirmed:function(){this.deleteStory(),this.closeBackground()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.storyToDelete={},e.loadStories();case 5:case"end":return t.stop()}}),t)})))()},sendToSingleStory:function(e){this.$router.push("/single-story/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e},saveNewProfileText:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.pageOwner,n.profileText=e,r.next=4,t.$store.dispatch("saveNewProfileText",n);case 4:s=r.sent,"SUCCESS"===s?t.pageOwner.profileText=e:console.log("PROBLEM WITH SAVING TEXT!"),t.editingNow=!1;case 7:case"end":return r.stop()}}),r)})))()},addFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedInUser.following.unshift(e.pageOwner._id),e.pageOwner.followers.unshift(e.loggedInUser._id),r={follower:e.loggedInUser,following:e.pageOwner},t.next=5,e.$store.dispatch("addFollow",r);case 5:n=t.sent,"SUCCESS"===n&&console.log("SUCCESS FOLLOW!!!"),e.followBackground=!1;case 8:case"end":return t.stop()}}),t)})))()},deleteFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.loggedInUser.following.findIndex((function(t){return t===e.pageOwner._id})),e.loggedInUser.following.splice(r,1),n=e.pageOwner.followers.findIndex((function(t){return t===e.loggedInUser._id})),e.pageOwner.followers.splice(n,1),s={follower:e.loggedInUser,following:e.pageOwner},t.next=7,e.$store.dispatch("deleteFollow",s);case 7:o=t.sent,"SUCCESS"===o&&console.log("SUCCESS UNFOLLOW!!!"),e.followBackground=!1;case 10:case"end":return t.stop()}}),t)})))()},loggedInFollowing:function(){var e=this;return this.loggedInUser.following.find((function(t){return t===e.pageOwner._id}))}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.userId=e.$route.params.userId,e.loggedInUser._id||e.$router.push("/"),t.next=6,e.setUsers();case 6:return t.next=8,e.setStories();case 8:e.loadUsers(),e.loadStories(),e.pageOwner=e.users.find((function(t){return t._id===e.userId})),e.upgradeLoggedInUser(),e.profileTextEdit=e.pageOwner.profileText;case 13:case"end":return t.stop()}}),t)})))()}},Lr=Mr,Pr=Object(c["a"])(Lr,Ur,Rr,!1,null,null,null),Br=Pr.exports;n["a"].use(d["a"]);var jr=[{path:"/",name:"login-signup",component:Ne},{path:"/following-feed/:userId",name:"following-feed",component:Be},{path:"/explore-feed/:userId",name:"explore-feed",component:Oe},{path:"/liked-stories-page/:userId",name:"liked-stories-page",component:Br},{path:"/profile-page/:userId",name:"profile-page",component:Ve},{path:"/single-story/:storyId",name:"single-story",component:Or}],Tr=new d["a"]({routes:jr}),Dr=Tr,$r=r("2f62");n["a"].use($r["a"]);var zr=new $r["a"].Store({strict:!0,state:{},getters:{getUsers:function(e){var t=e.users;return t},getStories:function(e){var t=e.stories;return t}},mutations:{loadStories:function(e,t){var r=t.payload;e.stories=[],e.stories=r},loadUsers:function(e,t){var r=t.users;e.users=r.slice()},addStoryLike:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId}));e.stories[n].likedBy.unshift(r.likeToAdd)},removeStoryLike:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId}));e.stories[n].likedBy.splice(r.likeIdx,1)},addCommentLike:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId}));e.stories[n].comments[r.commentIdx].likedBy.unshift(e.loggedInUser._id)},removeCommentLike:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId}));e.stories[n].comments[r.commentIdx].likedBy.splice(r.commenLikeIdx,1)},addComment:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId}));e.stories[n].comments.push(r.newComment)},deleteComment:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.storyId})),s=e.stories[n].comments.findIndex((function(e){return e._id===r.commentId}));e.stories[n].comments.splice(s,1)},deleteStory:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r}));e.stories.splice(n,1);var s=e.users.findIndex((function(t){return t._id===e.loggedInUser._id})),o=e.users[s].ownedStories.findIndex((function(e){return e===r}));e.users[s].ownedStories.splice(o,1)},addStory:function(e,t){var r=t.payload;e.stories.unshift(r)},getLoggedInUser:function(e,t){var r=t.payload;e.loggedInUser=r},saveNewProfileText:function(e,t){var r=t.user,n=e.users.findIndex((function(e){return e._id===r._id}));e.users[n].profileText=r.profileText},addFollow:function(e,t){var r=t.payload,n=e.users.findIndex((function(e){return e._id===r.follower._id})),s=e.users.findIndex((function(e){return e._id===r.following._id}));e.users[n].following.unshift(r.following._id),e.users[s].followers.unshift(r.follower._id)},deleteFollow:function(e,t){var r=t.payload,n=e.users.findIndex((function(e){return e._id===r.follower._id})),s=e.users.findIndex((function(e){return e._id===r.following._id})),o=e.users[n].following.findIndex((function(e){return e===r.following._id})),i=e.users[s].followers.findIndex((function(e){return e===r.follower._id}));e.users[n].following.splice(o,1),e.users[s].followers.splice(i,1)},login:function(e,t){var r=t.payload;e.loggedInUser={},e.loggedInUser._id=r._id,e.loggedInUser.username=r.username,e.loggedInUser.fullname=r.fullname,e.loggedInUser.profileImgUrl=r.profileImgUrl},logout:function(e){e.loggedInUser._id="",e.loggedInUser.username="",e.loggedInUser.fullname="",e.loggedInUser.profileImgUrl=""}},actions:{loadStories:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,At._loadStories();case 3:n=t.sent,r({type:"loadStories",payload:n});case 5:case"end":return t.stop()}}),t)})))()},loadUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,At._loadUsers();case 2:r=t.sent,e.commit({type:"loadUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},addStoryLike:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.addStoryLike(t);case 3:s=r.sent,n({type:"addStoryLike",payload:s});case 5:case"end":return r.stop()}}),r)})))()},removeStoryLike:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.removeStoryLike(t);case 3:s=r.sent,n({type:"removeStoryLike",payload:s});case 5:case"end":return r.stop()}}),r)})))()},addCommentLike:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.addCommentLike(t);case 3:s=r.sent,n({type:"addCommentLike",payload:s});case 5:case"end":return r.stop()}}),r)})))()},removeCommentLike:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.removeCommentLike(t);case 3:s=r.sent,n({type:"removeCommentLike",payload:s});case 5:case"end":return r.stop()}}),r)})))()},addComment:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.addComment(t);case 3:s=r.sent,n({type:"addComment",payload:s});case 5:case"end":return r.stop()}}),r)})))()},deleteComment:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.deleteComment(t);case 3:n({type:"deleteComment",payload:t});case 4:case"end":return r.stop()}}),r)})))()},deleteStory:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.deleteStory(t);case 3:n({type:"deleteStory",payload:t});case 4:case"end":return r.stop()}}),r)})))()},addStory:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.addStory(t);case 3:s=r.sent,n({type:"addStory",payload:s});case 5:case"end":return r.stop()}}),r)})))()},getLoggedInUser:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,At.getLoggedInUser();case 3:return n=t.sent,r({type:"getLoggedInUser",payload:n}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},saveNewProfileText:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.saveNewProfileText(t);case 3:if(s=r.sent,"SUCCESS"!==s){r.next=7;break}return n({type:"saveNewProfileText",user:t}),r.abrupt("return","SUCCESS");case 7:case"end":return r.stop()}}),r)})))()},addFollow:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.updateFollow(t);case 3:if(s=r.sent,"SUCCESS"!==s){r.next=7;break}return n({type:"addFollow",payload:t}),r.abrupt("return","SUCCESS");case 7:case"end":return r.stop()}}),r)})))()},deleteFollow:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.updateFollow(t);case 3:if(s=r.sent,"SUCCESS"!==s){r.next=7;break}return n({type:"deleteFollow",payload:t}),r.abrupt("return","SUCCESS");case 7:case"end":return r.stop()}}),r)})))()},login:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,At.login(t);case 3:if(s=r.sent,!s){r.next=9;break}return n({type:"login",payload:s}),r.abrupt("return",s);case 9:return r.abrupt("return","");case 10:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,At.logout();case 3:r({type:"logout"});case 4:case"end":return t.stop()}}),t)})))()}}});r("f27b");n["a"].config.productionTip=!1,new n["a"]({router:Dr,store:zr,render:function(e){return e(l)}}).$mount("#app")},f27b:function(e,t,r){}});
//# sourceMappingURL=app.22007595.js.map