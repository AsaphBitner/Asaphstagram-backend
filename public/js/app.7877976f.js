(function(e){function t(t){for(var r,i,a=t[0],l=t[1],c=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i={name:"App",components:{}},a=i,l=(n("034f"),n("2877")),c=Object(l["a"])(a,o,s,!1,null,null,null),u=c.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[n("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?n("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),this.backgroundDisplayed?n("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?n("div",{staticClass:"delete-menu"},[e.storyByMe&&e.storyToDelete||e.commentToDelete.comment?n("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete "+e._s(this.toDeleteEntity))]):e._e(),n("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?n("div",{staticClass:"are-you-sure-menu"},[n("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),n("span",{staticClass:"yesNo"},[n("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),n("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e(),n("div",{staticClass:"stories-container"},e._l(this.storiesToShow,(function(t,r){return n("ul",{key:t._id,staticClass:"story-list"},[n("li",[n("div",{staticClass:"single-story-container"},[n("div",{staticClass:"story-user-photo-name"},[n("div",{staticClass:"small-profile-img-story",on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[n("img",{attrs:{src:t.owner.profileImgUrl,alt:"ERROR!"}})]),n("div",{staticClass:"story-owner-username",on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[e._v(" "+e._s(t.owner.username)+" ")]),n("span",{staticClass:"story-options",on:{click:function(n){return e.setToDelete("Post",t)}}},[n("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),n("div",{staticClass:"main-image-story",on:{click:function(n){return e.openSingleStory(t)}}},[n("img",{attrs:{src:t.imgUrl,alt:"ERROR!"}})]),n("div",{staticClass:"story-after-photo"},[n("div",{staticClass:"story-four-icons-container"},[n("div",{staticClass:"story-four-icons"},[e.likedByMe(t)?e._e():n("span",{on:{click:function(n){return e.toggleLike("add","story",t,r)}}},[n("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe(t)?n("span",{on:{click:function(n){return e.toggleLike("remove","story",t,r)}}},[n("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),n("span",{staticClass:"story-comment-icon",on:{click:function(n){return e.openSingleStory(t)}}},[n("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),n("span",{staticClass:"story-message-icon"},[n("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),n("span",{staticClass:"story-bookmark"},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])])]),n("div",{staticClass:"story-liked-by"},[t.likedBy.length?n("p",[e._v(" Liked by "),n("span",{on:{click:function(n){return e.sendToProfilePage(t.likedBy[0])}}},[e._v(e._s(e.latestLiker(t)))]),e._v(" "+e._s(e.likedByMessage(t))+" ")]):e._e()]),n("div",{staticClass:"story-text"},[n("p",[n("span",{on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[e._v(e._s(t.owner.username))]),e._v(" "+e._s(t.text)+" ")])]),n("div",{staticClass:"story-comments"},[t.comments.length?n("p",{staticClass:"view-all-comments",on:{click:function(n){return e.openSingleStory(t)}}},[e._v(" View all "+e._s(t.comments.length)+" comments ")]):e._e(),e._l(t.comments,(function(o,s){return n("ul",{key:o._id},[s>=t.comments.length-2?n("li",[n("p",[n("span",{on:{click:function(t){return e.sendToProfilePage(o.by._id)}}},[e._v(e._s(o.by.username))]),e._v(" "+e._s(o.text)+" ")]),n("span",{staticClass:"comment-like-unlike-delete"},[e.commentByMe(o.by._id)?n("span",{staticClass:"delete-comment",on:{click:function(n){return e.setToDelete("Comment",t,o,s)}}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(o)?e._e():n("span",{staticClass:"comment-like",on:{click:function(n){return e.toggleLike("add","comment",t,r,o,s)}}},[n("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(o)?n("span",{staticClass:"comment-unlike",on:{click:function(n){return e.toggleLike("remove","comment",t,r,o,s)}}},[n("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]):e._e()])}))],2),n("div",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),t.createdAt).toUpperCase())+" ")]),n("div",{staticClass:"story-add-comment"},[n("form",{attrs:{method:"POST"},on:{submit:function(n){return e.addComment(t,r,n)}}},[n("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[n("div",[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),n("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),n("div",{}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInputs[r],expression:"newCommentInputs[idx]"}],staticClass:"comment-text-area",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInputs[r]},on:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.addComment(t,r,n)},input:function(t){t.target.composing||e.$set(e.newCommentInputs,r,t.target.value)}}}),n("button",{attrs:{type:"submit"},on:{click:function(n){return e.addComment(t,r,n)}}},[e._v(" Post ")])])])])])])])})),0),e.storiesFollowing.length>e.numStoriesToShow?n("div",{staticClass:"load-more-storeis",on:{click:e.LoadMoreStoreis}},[n("h1",[e._v("Load More Posts")])]):e._e()],1)},g=[],m=n("1da1"),f=(n("4e82"),n("fb6a"),n("7db0"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-container",on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("close")}}},[n("div",{staticClass:"header-flex-wide-left"}),n("div",{staticClass:"header-flex-1"},[n("h3",{staticClass:"header-logo",on:{click:function(t){return e.sendToFeed()}}},[e._v("Asaphstagram")])]),n("div",{staticClass:"header-flex-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBarContent,expression:"searchBarContent"}],staticClass:"header-search",attrs:{autocapitalize:"none",type:"search",placeholder:"Search"},domProps:{value:e.searchBarContent},on:{keyup:function(t){return e.searchDiv()},input:function(t){t.target.composing||(e.searchBarContent=t.target.value)}}}),e.searchBarContent.length?n("div",{staticClass:"app-header-search-results"},[e.searchResultUsers.length?e._e():n("div",{staticClass:"header-search-nothing"},[e._v("Nothing Found...")]),e.searchResultUsers.length?n("ul",e._l(e.searchResultUsers,(function(t){return n("li",{key:t._id,on:{click:function(n){return n.stopPropagation(),e.sendToProfilePage(t._id)}}},[n("div",{staticClass:"search-results-profile-img",on:{click:function(n){return n.stopPropagation(),e.sendToProfilePage(t._id)}}},[n("img",{attrs:{src:t.profileImgUrl,alt:""}})]),n("div",{staticClass:"search-results-names",on:{click:function(n){return n.stopPropagation(),e.sendToProfilePage(t._id)}}},[n("span",[e._v(e._s(t.username))]),e._v(" "+e._s(t.fullname)+" ")])])})),0):e._e()]):e._e()]),n("div",{staticClass:"header-flex-3"},[n("router-link",{attrs:{to:"/following-feed/"+e.userId}},[n("svg",{staticClass:"header-home header-icon",attrs:{"aria-label":"Home",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"}})]),e.isRoute("following-feed")?n("span",{staticClass:"underline"}):e._e()]),n("router-link",{attrs:{to:"/explore-feed/"+e.userId}},[n("svg",{staticClass:"header-explore header-icon",attrs:{"aria-label":"Find People",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z","fill-rule":"evenodd"}})]),e.isRoute("explore-feed")?n("span",{staticClass:"underline"}):e._e()]),n("router-link",{class:{underlined:e.isRoute("liked-stories-page")},attrs:{to:"/liked-stories-page/"+e.userId}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Activity Feed",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),e.isRoute("liked-stories-page")?n("span",{staticClass:"underline"}):e._e()]),n("span",{staticClass:"header-add-post-container",on:{click:e.addStory}},[n("svg",{staticClass:"header-add-post header-icon ",attrs:{"aria-label":"New Post",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"}}),n("path",{attrs:{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}}),n("path",{attrs:{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"}})])]),n("div",{staticClass:"header-profile-image-container header-icon",on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("toggle")}}},[e.isRoute("profile-page")?n("span",{staticClass:"underline"}):e._e(),n("img",{attrs:{src:this.loggedInUser.profileImgUrl,alt:""}}),e.headerMenuShown?n("div",{staticClass:"header-profile-menu-and-triangle"},[n("div",{staticClass:"profile-triangle"}),n("div",{staticClass:"header-profile-logout-menu"},[n("div",{staticClass:"header-profile-to-profile",on:{click:function(t){return t.stopPropagation(),e.sendToProfilePage(e.loggedInUser._id)}}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Profile",fill:"#262626",height:"16",role:"img",viewBox:"0 0 32 32",width:"16"}},[n("path",{attrs:{d:"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}})]),e._v(" Profile ")]),n("div",{staticClass:"header-profile-logout",on:{click:function(t){return t.stopPropagation(),e.logout.apply(null,arguments)}}},[e._v("Log Out")])])]):e._e()])],1),n("div",{staticClass:"header-flex-wide-right"})])}),h=[],v=(n("a434"),n("159b"),n("caad"),n("2532"),n("b0c0"),{name:"app-header",data:function(){return{loggedInUser:{},userId:"",users:[],searchBarContent:"",searchResultUsers:[]}},props:{headerMenuShown:Boolean},methods:{addStory:function(){this.$emit("openNewStory")},sendToFeed:function(){this.$router.push("/following-feed/"+this.userId)},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},searchDiv:function(){var e=this;this.loadUsers(),this.searchResultUsers.splice(0,this.searchResultUsers.length);var t=this.users.slice();t.forEach((function(t){t.username.toLowerCase().includes(e.searchBarContent.toLowerCase())&&e.searchResultUsers.push(t)}))},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e),location.reload()},logout:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("logout"),e.$router.push("/");case 2:case"end":return t.stop()}}),t)})))()},toggleProfileMenu:function(e){"open"===e?this.$emit("headerProfileTrue"):"close"===e?this.$emit("headerProfileFalse"):"toggle"===e&&(!0===this.headerMenuShown?this.$emit("headerProfileFalse"):this.$emit("headerProfileTrue"))},isRoute:function(e){return"profile-page"===e?this.$route.name===e&&this.$route.params.userId===this.loggedInUser._id:this.$route.name===e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:e.loggedInUser._id||e.$router.push("/"),e.userId=e.loggedInUser._id,e.setUsers(),e.loadUsers(),e.profileMenu=!1;case 7:case"end":return t.stop()}}),t)})))()}}),w=v,y=Object(l["a"])(w,f,h,!1,null,null,null),C=y.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-story-menus-container"},[e.background?n("div",{staticClass:"menu-background",on:{click:e.closeMenu}}):e._e(),e.screen1?n("div",{staticClass:"story-upload-image screen1"},[n("div",{staticClass:"story-upload-image-header"},[n("span"),e._v(" New Post "),n("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),n("div",{staticClass:"story-upload-image-body"},[e.isLoading||e.isDragOver?e._e():n("span",[e._v("Drag A Photo Here")]),e.isLoading?n("div",{staticClass:"loading-gif"},[n("img",{attrs:{src:"img/img-loading-circle-of-circles-gif.gif",alt:""}})]):e._e(),e.isLoading?e._e():n("label",{staticClass:"img-upload-label",class:{drag:e.isDragOver},attrs:{for:"img-upload"},on:{drop:function(t){return t.preventDefault(),e.handleFile.apply(null,arguments)},dragover:function(t){t.preventDefault(),e.isDragOver=!0},dragleave:function(t){e.isDragOver=!1}}},[e.isDragOver?e._e():n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Icon to represent media such as images or videos",fill:"#262626",height:"77",role:"img",viewBox:"0 0 97.6 77.3",width:"96"}},[n("path",{attrs:{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z"}}),n("path",{attrs:{d:"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z"}}),n("path",{attrs:{d:"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z"}})]),e.isDragOver?e._e():n("h2",{staticClass:"select-file-directly"},[e._v("Or Select A File Directly")]),n("input",{staticClass:"upload-img",attrs:{type:"file",id:"img-upload"},on:{change:e.handleFile}})]),e.isDragOver?n("div",{staticClass:"drop-file-here"},[e._v(" Drop File Here")]):e._e()])]):e._e(),e.screen2?n("div",{staticClass:"story-add-caption screen2"},[n("div",{staticClass:"add-caption-header"},[n("span",{staticClass:"new-story-back",on:{click:function(t){return e.switchToScreen("1")}}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Back",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M40 33.5c-.4 0-.8-.1-1.1-.4L24 18.1l-14.9 15c-.6.6-1.5.6-2.1 0s-.6-1.5 0-2.1l16-16c.6-.6 1.5-.6 2.1 0l16 16c.6.6.6 1.5 0 2.1-.3.3-.7.4-1.1.4z"}})])]),n("h1",[e._v("Compose")]),n("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),n("div",{staticClass:"add-caption-body"},[n("div",{staticClass:"img-container"},[n("img",{attrs:{src:this.newImgUrl,alt:""}})]),n("div",{staticClass:"new-story-caption-container",attrs:{id:"new-story-caption-container"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newStoryText,expression:"newStoryText"}],staticClass:"caption-text",attrs:{name:"",cols:"30",rows:"10",placeholder:"Add a caption..."},domProps:{value:e.newStoryText},on:{input:function(t){t.target.composing||(e.newStoryText=t.target.value)}}}),n("button",{on:{click:function(t){return e.addStory()}}},[e._v("Publish")])])])]):e._e()])},k=[],x=n("bc3a"),S=n.n(x),b=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="asaphstagram2021",r="Asaphstagram_2021",o="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),s=new FormData,s.append("file",t),s.append("upload_preset",r),e.prev=6,e.next=9,S.a.post(o,s);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),I={data:function(){return{loggedInUser:{},isLoading:!1,background:!0,screen1:!0,screen2:!1,newStoryText:"",newImgUrl:"",isDragOver:!1}},methods:{switchToScreen:function(e){"1"===e?(this.screen1=!0,this.screen2=!1,this.newImgUrl=""):(this.screen1=!1,this.screen2=!0,this.newStoryText="")},closeMenu:function(){this.$emit("close")},addStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={text:e.newStoryText,imgUrl:e.newImgUrl,createdAt:Date.now(),owner:{_id:e.loggedInUser._id,username:e.loggedInUser.username,profileImgUrl:e.loggedInUser.profileImgUrl},likedBy:[],comments:[]},t.next=3,e.$store.dispatch("addStory",n);case 3:e.$emit("saved");case 4:case"end":return t.stop()}}),t)})))()},handleFile:function(e){var t;"change"===e.type?t=e.target.files[0]:"drop"===e.type&&(t=e.dataTransfer.files[0]),this.onUploadImg(t)},onUploadImg:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,t.isDragOver=!1,n.next=4,b(e);case 4:r=n.sent,t.newImgUrl=r.url,t.isLoading=!1,t.switchToScreen("2");case 8:case"end":return n.stop()}}),n)})))()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.getLoggedInUser(),this.background=!0,this.screen1=!0}},M=I,O=Object(l["a"])(M,_,k,!1,null,null,null),U=O.exports,R={components:{appHeader:C,newStory:U},data:function(){return{loggedInUser:{},numStoriesToShow:6,stories:[],storiesFollowing:[],storiesToShow:[],users:[],newCommentInputs:[],numCommentsToShow:1,commentsToShow:[],backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,toDeleteEntity:"",commentToDelete:{},storyToDelete:{},newStoryOn:!1,headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){this.stories=this.$store.state.stories},loadLimitedStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStories();case 2:n=e.stories.sort((function(t,n){return t.createdAt/e.randomInt(1,10)<n.createdAt/e.randomInt(1,10)?1:-1})),e.storiesToShow=n.slice();while(e.newCommentInputs.length<e.numStoriesToShow)e.newCommentInputs.push("");case 5:case"end":return t.stop()}}),t)})))()},randomInt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},LoadMoreStoreis:function(){this.numStoriesToShow+=6,this.loadLimitedStories()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},resetnewCommentsInput:function(e){this.newCommentInputs[e]=""},timeDifference:function(e,t){var n=6e4,r=60*n,o=24*r,s=30*o,i=365*o,a=e-t;return a<n?Math.round(a/1e3)+" seconds ago":a<r?Math.round(a/n)+" minutes ago":a<o?Math.round(a/r)+" hours ago":a<s?"about "+Math.round(a/o)+" days ago":a<i?"about "+Math.round(a/s)+" months ago":"about "+Math.round(a/i)+" years ago"},likedByMessage:function(e){if(e.likedBy.length)return 1===e.likedBy.length?"":2===e.likedBy.length?"and 1 other":"and ".concat(e.likedBy.length-1," others")},latestLiker:function(e){if(e.likedBy.length)return e.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":e.likedBy[0].username},likedByMe:function(e){var t=this;if(!e.likedBy||!e.likedBy.length)return!1;var n=e.likedBy.find((function(e){return e._id===t.$store.state.loggedInUser._id}));return n},commentLikedByMe:function(e){var t=this;if(!e.likedBy.length)return!1;var n=e.likedBy.find((function(e){return e===t.loggedInUser._id}));return n},toggleLike:function(e,t,n,r){var o=arguments,s=this;return Object(m["a"])(regeneratorRuntime.mark((function i(){var a,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:null,l=o.length>5&&void 0!==o[5]?o[5]:null,c={request:e,entityType:t,story:n,storyIdx:r,comment:a,commentIdx:l},i.next=5,s.$store.dispatch("toggleLike",c);case 5:s.loadLimitedStories();case 6:case"end":return i.stop()}}),i)})))()},commentByMe:function(e){return e===this.loggedInUser._id},addComment:function(e,t,n){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var s,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!n.shiftKey){o.next=2;break}return o.abrupt("return");case 2:if(n.preventDefault(),r.newCommentInputs[t]){o.next=6;break}return console.log("No text"),o.abrupt("return");case 6:return s=r.newCommentInputs[t],i={story:e,storyIdx:t,text:s},o.next=10,r.$store.dispatch("addComment",i);case 10:return o.next=12,r.resetnewCommentsInput(t);case 12:r.loadLimitedStories();case 13:case"end":return o.stop()}}),o)})))()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.toDeleteEntity="",this.loadLimitedStories()},deleteConfirmed:function(){"Comment"===this.toDeleteEntity?this.deleteComment():"Post"===this.toDeleteEntity&&this.deleteStory(),this.closeBackground(),this.toDeleteEntity=""},setToDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.toDeleteEntity=e,"Comment"===e?this.commentToDelete={story:t,comment:n,commentIdx:r}:"Post"===e&&(this.storyToDelete=t),this.openDeleteMenu()},deleteComment:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commentToDelete,t.next=3,e.$store.dispatch("deleteComment",n);case 3:e.commentToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",n);case 3:e.storyToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadLimitedStories()},storyByMe:function(){return!!this.storyToDelete&&this.storyToDelete.owner._id===this.loggedInUser._id},openSingleStory:function(e){this.$router.push("/single-story/"+e._id)},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),n=e.$route.params.userId,r=e.loggedInUser._id,n!==r&&(console.log("user ID: ",n,"logged in ID: ",r),e.$router.push("/")),t.next=8,e.setUsers();case 8:return e.loadUsers(),t.next=11,e.setStories();case 11:e.loadLimitedStories();case 12:case"end":return t.stop()}}),t)})))()}},B=R,T=Object(l["a"])(B,p,g,!1,null,null,null),D=T.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[n("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?n("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),this.backgroundDisplayed?n("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?n("div",{staticClass:"delete-menu"},[e.storyByMe&&e.storyToDelete||e.commentToDelete.comment?n("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete "+e._s(this.toDeleteEntity))]):e._e(),n("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?n("div",{staticClass:"are-you-sure-menu"},[n("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),n("span",{staticClass:"yesNo"},[n("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),n("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e(),n("div",{staticClass:"stories-container"},e._l(this.storiesToShow,(function(t,r){return n("ul",{key:t._id,staticClass:"story-list"},[n("li",[n("div",{staticClass:"single-story-container"},[n("div",{staticClass:"story-user-photo-name"},[n("div",{staticClass:"small-profile-img-story",on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[n("img",{attrs:{src:t.owner.profileImgUrl,alt:"ERROR!"}})]),n("div",{staticClass:"story-owner-username",on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[e._v(" "+e._s(t.owner.username)+" ")]),n("span",{staticClass:"story-options",on:{click:function(n){return e.setToDelete("Post",t)}}},[n("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),n("div",{staticClass:"main-image-story",on:{click:function(n){return e.openSingleStory(t)}}},[n("img",{attrs:{src:t.imgUrl,alt:"ERROR!"}})]),n("div",{staticClass:"story-after-photo"},[n("div",{staticClass:"story-four-icons-container"},[n("div",{staticClass:"story-four-icons"},[e.likedByMe(t)?e._e():n("span",{on:{click:function(n){return e.toggleLike("add","story",t,r)}}},[n("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe(t)?n("span",{on:{click:function(n){return e.toggleLike("remove","story",t,r)}}},[n("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),n("span",{staticClass:"story-comment-icon",on:{click:function(n){return e.openSingleStory(t)}}},[n("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),n("span",{staticClass:"story-message-icon"},[n("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),n("span",{staticClass:"story-bookmark"},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])])]),n("div",{staticClass:"story-liked-by"},[t.likedBy.length?n("p",[e._v(" Liked by "),n("span",{on:{click:function(n){return e.sendToProfilePage(t.likedBy[0])}}},[e._v(e._s(e.latestLiker(t)))]),e._v(" "+e._s(e.likedByMessage(t))+" ")]):e._e()]),n("div",{staticClass:"story-text"},[n("p",[n("span",{on:{click:function(n){return e.sendToProfilePage(t.owner._id)}}},[e._v(e._s(t.owner.username))]),e._v(" "+e._s(t.text)+" ")])]),n("div",{staticClass:"story-comments"},[t.comments.length?n("p",{staticClass:"view-all-comments",on:{click:function(n){return e.openSingleStory(t)}}},[e._v(" View all "+e._s(t.comments.length)+" comments ")]):e._e(),e._l(t.comments,(function(o,s){return n("ul",{key:o._id},[s>=t.comments.length-2?n("li",[n("p",[n("span",{on:{click:function(t){return e.sendToProfilePage(o.by._id)}}},[e._v(e._s(o.by.username))]),e._v(" "+e._s(o.text)+" ")]),n("span",{staticClass:"comment-like-unlike-delete"},[e.commentByMe(o.by._id)?n("span",{staticClass:"delete-comment",on:{click:function(n){return e.setToDelete("Comment",t,o,s)}}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(o)?e._e():n("span",{staticClass:"comment-like",on:{click:function(n){return e.toggleLike("add","comment",t,r,o,s)}}},[n("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(o)?n("span",{staticClass:"comment-unlike",on:{click:function(n){return e.toggleLike("remove","comment",t,r,o,s)}}},[n("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]):e._e()])}))],2),n("div",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),t.createdAt).toUpperCase())+" ")]),n("div",{staticClass:"story-add-comment"},[n("form",{attrs:{method:"POST"},on:{submit:function(n){return e.addComment(t,r,n)}}},[n("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[n("div",[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),n("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),n("div",{}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInputs[r],expression:"newCommentInputs[idx]"}],staticClass:"comment-text-area",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInputs[r]},on:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.addComment(t,r,n)},input:function(t){t.target.composing||e.$set(e.newCommentInputs,r,t.target.value)}}}),n("button",{attrs:{type:"submit"},on:{click:function(n){return e.addComment(t,r,n)}}},[e._v(" Post ")])])])])])])])})),0),e.storiesFollowing.length>e.numStoriesToShow?n("div",{staticClass:"load-more-storeis",on:{click:e.LoadMoreStoreis}},[n("h1",[e._v("Load More Posts")])]):e._e()],1)},L=[],$=(n("4de4"),{components:{appHeader:C,newStory:U},data:function(){return{loggedInUser:{},numStoriesToShow:6,stories:[],storiesFollowing:[],storiesToShow:[],users:[],newCommentInputs:[],numCommentsToShow:1,commentsToShow:[],backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,toDeleteEntity:"",commentToDelete:{},storyToDelete:{},newStoryOn:!1,headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){this.stories=this.$store.state.stories},loadLimitedStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStories();case 2:n=e.users.find((function(t){return t._id===e.loggedInUser._id})),e.storiesFollowing=e.stories.filter((function(e){return n.following.find((function(t){return t===e.owner._id}))})),r=e.storiesFollowing.slice(0,e.numStoriesToShow),e.storiesToShow=r.slice();while(e.newCommentInputs.length<e.numStoriesToShow)e.newCommentInputs.push("");case 7:case"end":return t.stop()}}),t)})))()},LoadMoreStoreis:function(){this.numStoriesToShow+=6,this.loadLimitedStories()},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},resetnewCommentsInput:function(e){this.newCommentInputs[e]=""},timeDifference:function(e,t){var n=6e4,r=60*n,o=24*r,s=30*o,i=365*o,a=e-t;return a<n?Math.round(a/1e3)+" seconds ago":a<r?Math.round(a/n)+" minutes ago":a<o?Math.round(a/r)+" hours ago":a<s?"about "+Math.round(a/o)+" days ago":a<i?"about "+Math.round(a/s)+" months ago":"about "+Math.round(a/i)+" years ago"},likedByMessage:function(e){if(e.likedBy.length)return 1===e.likedBy.length?"":2===e.likedBy.length?"and 1 other":"and ".concat(e.likedBy.length-1," others")},latestLiker:function(e){if(e.likedBy.length)return e.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":e.likedBy[0].username},likedByMe:function(e){var t=this;if(!e.likedBy||!e.likedBy.length)return!1;var n=e.likedBy.find((function(e){return e._id===t.$store.state.loggedInUser._id}));return n},commentLikedByMe:function(e){var t=this;if(!e.likedBy.length)return!1;var n=e.likedBy.find((function(e){return e===t.loggedInUser._id}));return n},toggleLike:function(e,t,n,r){var o=arguments,s=this;return Object(m["a"])(regeneratorRuntime.mark((function i(){var a,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:null,l=o.length>5&&void 0!==o[5]?o[5]:null,c={request:e,entityType:t,story:n,storyIdx:r,comment:a,commentIdx:l},i.next=5,s.$store.dispatch("toggleLike",c);case 5:s.loadLimitedStories();case 6:case"end":return i.stop()}}),i)})))()},commentByMe:function(e){return e===this.loggedInUser._id},addComment:function(e,t,n){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var s,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!n.shiftKey){o.next=2;break}return o.abrupt("return");case 2:if(n.preventDefault(),r.newCommentInputs[t]){o.next=6;break}return console.log("No text"),o.abrupt("return");case 6:return s=r.newCommentInputs[t],i={story:e,storyIdx:t,text:s},o.next=10,r.$store.dispatch("addComment",i);case 10:return o.next=12,r.resetnewCommentsInput(t);case 12:r.loadLimitedStories();case 13:case"end":return o.stop()}}),o)})))()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.toDeleteEntity="",this.loadLimitedStories()},deleteConfirmed:function(){"Comment"===this.toDeleteEntity?this.deleteComment():"Post"===this.toDeleteEntity&&this.deleteStory(),this.closeBackground(),this.toDeleteEntity=""},setToDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.toDeleteEntity=e,"Comment"===e?this.commentToDelete={story:t,comment:n,commentIdx:r}:"Post"===e&&(this.storyToDelete=t),this.openDeleteMenu()},deleteComment:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commentToDelete,t.next=3,e.$store.dispatch("deleteComment",n);case 3:e.commentToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",n);case 3:e.storyToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadLimitedStories()},storyByMe:function(){return!!this.storyToDelete&&this.storyToDelete.owner._id===this.loggedInUser._id},openSingleStory:function(e){this.$router.push("/single-story/"+e._id)},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),n=e.$route.params.userId,r=e.loggedInUser._id,n!==r&&(console.log("user ID: ",n,"logged in ID: ",r),e.$router.push("/")),t.next=8,e.setUsers();case 8:return e.loadUsers(),t.next=11,e.setStories();case 11:e.loadLimitedStories();case 12:case"end":return t.stop()}}),t)})))()}}),z=$,j=Object(l["a"])(z,P,L,!1,null,null,null),N=j.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page-container"},[e._m(0),e._m(1),n("div",{staticClass:"login-inputs-container"},[n("form",{attrs:{action:"submit"},on:{submit:function(t){return t.preventDefault(),e.login(e.usernameInput,e.passwordInput)}}},[n("div",{staticClass:"login-password-inputs"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.usernameInput,expression:"usernameInput"}],staticClass:"username-input",attrs:{type:"text",placeholder:"User Name"},domProps:{value:e.usernameInput},on:{input:function(t){t.target.composing||(e.usernameInput=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordInput,expression:"passwordInput"}],staticClass:"password-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.passwordInput},on:{input:function(t){t.target.composing||(e.passwordInput=t.target.value)}}})]),n("button",{staticClass:"login-submit"},[e._v("Log In")])])]),n("div",{staticClass:"login-for-guests-container"},[n("h2",[e._v("Or Log In As:")]),n("div",{staticClass:"login-3-photos"},[n("div",{staticClass:"login-bugs-bunny login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Bugs_Bunny","bugsbunnypassword")}}},[n("img",{staticStyle:{background:"white"},attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628445908/Bugs%20Bunny/Bugsbunny2011_wwesmc.png",alt:""}}),n("h1",[e._v("Bugs_Bunny")])]),n("div",{staticClass:"login-wonder-woman login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Wonder_Woman","wonderwomanpassword")}}},[n("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628446001/Wonder%20Woman/Wonder_Woman_Annual_Vol_5_1_a00h1m.png",alt:""}}),n("h1",[e._v("Wonder_Woman")])]),n("div",{staticClass:"login-yoda login-character-image",on:{click:function(t){return t.stopPropagation(),e.login("Yoda","yodapassword")}}},[n("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628446008/Yoda/Yoda_Attack_of_the_Clones_gxl5dl.png",alt:""}}),n("h1",[e._v("Yoda")])])])])])},F=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page-background-img-container"},[n("img",{attrs:{src:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1629247438/Boston_Skyline__SONY_NEX-5_Panorama_Mode__4765830049_krt0me.jpg",alt:"Sorry, no image here"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"login-page-first-headline"},[n("span",[e._v("Asaphstagram")])])}],A={data:function(){return{loggedInUser:{},users:[],usernameInput:"",passwordInput:""}},methods:{getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent,e.loggedInUser._id&&e.sendToFeed(e.loggedInUser._id);case 4:case"end":return t.stop()}}),t)})))()},sendToFeed:function(e){this.$router.push("/following-feed/"+e)},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},login:function(e,t){var n=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={username:e,password:t},r.next=3,n.$store.dispatch("login",o);case 3:s=r.sent,s&&(n.usernameInput="",n.passwordInput="",n.$router.push("/following-feed/"+s._id));case 5:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return t.next=4,e.setUsers();case 4:e.loadUsers();case 5:case"end":return t.stop()}}),t)})))()}},H=A,V=Object(l["a"])(H,E,F,!1,null,null,null),W=V.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[n("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?n("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),e.backgroundDisplayed?n("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?n("div",{staticClass:"delete-menu"},[e.storyByMe()?n("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete Post")]):e._e(),n("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?n("div",{staticClass:"are-you-sure-menu"},[n("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),n("span",{staticClass:"yesNo"},[n("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, delete")]),n("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, cancel")])])]):e._e()]):e._e(),e.followBackground?n("div",{staticClass:"profile-page-follow-unfollow-background",on:{click:function(t){t.stopPropagation(),e.followBackground=!1}}},[n("div",{staticClass:"follow-unfollow-menu"},[n("div",{staticClass:"follow-unfollow-statement"},[e.loggedInFollowing()?n("span",{staticClass:"follow-unfollow-statement-yes"},[e._v("You "),n("span",[e._v("Are")]),e._v(" Following "+e._s(e.pageOwner.username))]):e._e(),e.loggedInFollowing()?e._e():n("span",{staticClass:"follow-unfollow-statement-no"},[e._v("You "),n("span",[e._v("Are NOT")]),e._v(" Following "+e._s(e.pageOwner.username))])]),e.loggedInFollowing()?e._e():n("div",{staticClass:"follow-user",on:{click:function(t){return t.stopPropagation(),e.addFollow()}}},[e._v("Follow")]),e.loggedInFollowing()?n("div",{staticClass:"unfollow-user",on:{click:function(t){return t.stopPropagation(),e.deleteFollow()}}},[e._v("Unfollow")]):e._e(),n("div",{staticClass:"folow-unfollow-user-cancel",on:{click:function(t){t.stopPropagation(),e.followBackground=!1}}},[e._v("Cancel")])])]):e._e(),n("div",{staticClass:"profile-page-upper-part"},[n("div",{staticClass:"profile-page-profile-photo"},[n("img",{attrs:{src:this.pageOwner.profileImgUrl,alt:""}})]),n("div",{staticClass:"profile-page-texts-container"},[n("div",{staticClass:"profile-page-username-options"},[n("span",{staticClass:"profile-page-username"},[e._v(e._s(e.pageOwner.username))]),n("span",{staticClass:"profile-page-options",on:{click:function(t){e.followBackground=!0}}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Options",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),n("div",{staticClass:"post-follower-following-count"},[n("div",[n("span",[e._v(e._s(e.pageOwner.ownedStories.length||0))]),e._v(" Posts")]),n("div",[n("span",[e._v(e._s(e.pageOwner.followers.length||0))]),e._v(" Followers")]),n("div",[n("span",[e._v(e._s(e.pageOwner.following.length||0))]),e._v(" Following")])]),n("div",{staticClass:"fullname"},[e._v(" "+e._s(e.pageOwner.fullname)+" ")]),e.editingNow?e._e():n("div",{staticClass:"profile-text"},[e._v(" "+e._s(e.pageOwner.profileText)+" "),e.pageOwner._id===e.loggedInUser._id?n("span",{staticClass:"edit-profile-text",on:{click:function(t){e.editingNow=!0}}},[e._v("Edit Text")]):e._e()]),e.editingNow?n("div",{staticClass:"profile-text-editing-area"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.profileTextEdit,expression:"profileTextEdit"}],attrs:{name:"",id:""},domProps:{value:e.profileTextEdit},on:{input:function(t){t.target.composing||(e.profileTextEdit=t.target.value)}}}),e.pageOwner.profileText!==e.profileTextEdit?n("span",{staticClass:"save-edit-profile-text",on:{click:function(t){return e.saveNewProfileText(e.profileTextEdit)}}},[e._v("Save")]):e._e(),e.pageOwner.profileText===e.profileTextEdit?n("span",{staticClass:"cancel-edit-profile-text",on:{click:function(t){e.editingNow=!1}}},[e._v("Cancel")]):e._e()]):e._e(),n("div",{staticClass:"followers-detailed"},[e.pageOwnerFollowers.length?n("div",[e._v("Followed by "),n("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[0]._id)}}},[e._v(e._s(e.pageOwnerFollowers[0].username))])]):e._e(),2===e.pageOwnerFollowers.length?n("div",[e._v(" and "),n("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))])]):e._e(),3===e.pageOwnerFollowers.length?n("div",[e._v(" , "),n("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and 1 other")]):e._e(),e.pageOwnerFollowers.length>3?n("div",[e._v(" , "),n("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and "),n("span",[e._v(e._s(e.pageOwnerFollowers.length-2))]),e._v(" others")]):e._e()])])]),n("div",{staticClass:"profile-page-lower-part"},[n("div",{staticClass:"dividing-line"}),n("div",{staticClass:"profile-page-lower-part-title"},[n("span",[n("svg",{attrs:{height:"12",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}})]),n("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}}),e._v(" Posts ")])]),this.storiesToShow.length?e._e():n("div",{staticClass:"no-posts-yet"},[e._v("No Posts yet...")]),this.storiesToShow.length?n("ul",{staticClass:"profile-page-story-list"},e._l(this.storiesToShow,(function(t){return n("li",{key:t._id},[n("div",{staticClass:"profile-page-story-tile",on:{click:function(n){return e.sendToSingleStory(t._id)}}},[n("div",{staticClass:"tile-background"},[n("span",{staticClass:"tile-background-options",on:{click:function(n){return n.stopPropagation(),e.setToDelete(t)}}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])]),n("span",{staticClass:"tile-background-likes"},[n("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),e._v(" "+e._s(t.likedBy.length||0)+" ")]),n("span",{staticClass:"tile-background-comments"},[n("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})]),e._v(" "+e._s(t.comments.length||0)+" ")])]),n("div",{staticClass:"tile-image"},[n("img",{attrs:{src:t.imgUrl,alt:""}})])])])})),0):e._e()])],1)},Y=[],q=(n("c740"),{components:{appHeader:C,newStory:U},data:function(){return{stories:[],loggedInUser:{},userId:"",pageOwner:{},pageOwnerFollowers:[],users:[],storiesToShow:[],backgroundDisplayed:!1,newStoryOn:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,storyToDelete:{},headerMenuShown:!1,editingNow:!1,profileTextEdit:"",followBackground:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){var e=this;this.stories=this.$store.state.stories,this.storiesToShow=this.stories.filter((function(t){return t.owner._id===e.userId}))},filterFollowers:function(){var e=this,t=this.pageOwner.followers.filter((function(t){return t!==e.pageOwner._id}));this.pageOwnerFollowers=this.users.filter((function(e){return t.find((function(t){return t===e._id}))}))},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},upgradeLoggedInUser:function(){var e=this;this.loggedInUser=this.users.find((function(t){return t._id===e.loggedInUser._id}))},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},storyByMe:function(){return this.loggedInUser._id===this.pageOwner._id},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadStories()},setToDelete:function(e){this.storyToDelete=e,this.openDeleteMenu()},sendToProfilePage:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.pageOwner=t.users.find((function(t){return t._id===e})),t.loggedInUser=t.$store.state.loggedInUser,t.userId=e,n.next=5,t.setUsers();case 5:return n.next=7,t.setStories();case 7:t.loadUsers(),t.loadStories(),t.filterFollowers(),t.$router.push("/profile-page/"+e),location.reload();case 12:case"end":return n.stop()}}),n)})))()},deleteConfirmed:function(){this.deleteStory(),this.closeBackground()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",n);case 3:e.storyToDelete={},e.loadStories();case 5:case"end":return t.stop()}}),t)})))()},sendToSingleStory:function(e){this.$router.push("/single-story/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e},saveNewProfileText:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.pageOwner,r.profileText=e,n.next=4,t.$store.dispatch("saveNewProfileText",r);case 4:o=n.sent,"SUCCESS"===o?t.pageOwner.profileText=e:console.log("PROBLEM WITH SAVING TEXT!"),t.editingNow=!1;case 7:case"end":return n.stop()}}),n)})))()},addFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedInUser.following.unshift(e.pageOwner._id),e.pageOwner.followers.unshift(e.loggedInUser._id),n={follower:e.loggedInUser,following:e.pageOwner},t.next=5,e.$store.dispatch("addFollow",n);case 5:r=t.sent,"SUCCESS"===r&&console.log("SUCCESS FOLLOW!!!"),e.followBackground=!1;case 8:case"end":return t.stop()}}),t)})))()},deleteFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.loggedInUser.following.findIndex((function(t){return t===e.pageOwner._id})),e.loggedInUser.following.splice(n,1),r=e.pageOwner.followers.findIndex((function(t){return t===e.loggedInUser._id})),e.pageOwner.followers.splice(r,1),o={follower:e.loggedInUser,following:e.pageOwner},t.next=7,e.$store.dispatch("deleteFollow",o);case 7:s=t.sent,"SUCCESS"===s&&console.log("SUCCESS UNFOLLOW!!!"),e.followBackground=!1;case 10:case"end":return t.stop()}}),t)})))()},loggedInFollowing:function(){var e=this;return this.loggedInUser.following.find((function(t){return t===e.pageOwner._id}))}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.userId=e.$route.params.userId,e.loggedInUser._id||e.$router.push("/"),t.next=6,e.setUsers();case 6:return t.next=8,e.setStories();case 8:e.loadUsers(),e.loadStories(),e.pageOwner=e.users.find((function(t){return t._id===e.userId})),e.filterFollowers(),e.upgradeLoggedInUser(),e.profileTextEdit=e.pageOwner.profileText;case 14:case"end":return t.stop()}}),t)})))()}}),K=q,X=Object(l["a"])(K,J,Y,!1,null,null,null),G=X.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"single-page-story-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[n("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?n("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),this.backgroundDisplayed?n("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?n("div",{staticClass:"delete-menu"},[e.storyByMe()||e.commentToDelete.comment?n("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete "+e._s(this.toDeleteEntity))]):e._e(),n("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?n("div",{staticClass:"are-you-sure-menu"},[n("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),n("span",{staticClass:"yesNo"},[n("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),n("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e(),n("div",{staticClass:"single-story-on-page-container",attrs:{story:this.story}},[n("div",{staticClass:"single-story-main-image"},[n("img",{attrs:{src:e.story.imgUrl,alt:"ERROR!"}})]),n("div",{staticClass:"single-story-not-the-image"},[n("div",{staticClass:"story-user-photo-name-2"},[n("div",{staticClass:"small-profile-img-story-2",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[n("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}}),n("span",{on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(" "+e._s(e.story.owner.username)+" ")])]),n("span",{staticClass:"story-options",on:{click:function(t){return e.setToDelete("Post",e.story,e.idx)}}},[n("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),n("div",{staticClass:"single-story-text"},[n("div",{staticClass:"small-profile-img-story-2-comment",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[n("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}})]),n("p",[n("span",{staticClass:"story-text-user-name",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(e._s(e.story.owner.username))]),e._v(" "+e._s(e.story.text)+" ")])]),n("div",{staticClass:"single-story-comments"},e._l(e.story.comments,(function(t,r){return n("ul",{key:t._id},[n("li",{staticClass:"single-story-single-comment"},[n("div",{staticClass:"comment-everything-but-like-counter"},[n("span",{staticClass:"small-profile-img-comment",on:{click:function(n){return e.sendToProfilePage(t.by._id)}}},[n("img",{attrs:{src:e.getUserImgForComment(t.by._id),alt:""}})]),n("p",[n("span",{on:{click:function(n){return e.sendToProfilePage(t.by._id)}}},[e._v(e._s(t.by.username))]),e._v(" "+e._s(t.text)+" ")]),n("div",{staticClass:"delete-like-unlike-comment"},[e.commentByMe(t.by._id)?n("span",{staticClass:"delete-comment",on:{click:function(n){return e.setToDelete("Comment",e.story,e.idx,t,r)}}},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(t)?e._e():n("span",{staticClass:"comment-like",on:{click:function(n){return e.toggleLike("add","comment",e.story,e.idx,t,r)}}},[n("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(t)?n("span",{staticClass:"comment-unlike",on:{click:function(n){return e.toggleLike("remove","comment",e.story,e.idx,t,r)}}},[n("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]),t.likedBy.length?n("div",{staticClass:"comment-how-many-likes"},[e._v(" "+e._s(e.commentLikeMessage(t))+" ")]):e._e()])])})),0),n("div",{staticClass:"story-after-comments"},[n("div",{staticClass:"story-four-icons"},[e.likedByMe(e.story)?e._e():n("span",{on:{click:function(t){return e.toggleLike("add","story",e.story,e.idx)}}},[n("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe(e.story)?n("span",{on:{click:function(t){return e.toggleLike("remove","story",e.story,e.idx)}}},[n("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),n("span",{staticClass:"story-comment-icon"},[n("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),n("span",{staticClass:"story-message-icon"},[n("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),n("span",{staticClass:"story-bookmark"},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])]),n("div",{staticClass:"story-liked-by"},[e.story.likedBy.length?n("p",[e._v(" Liked by "),n("span",{on:{click:function(t){return e.sendToProfilePage(e.story.likedBy[0])}}},[e._v(e._s(e.latestLiker(e.story)))]),e._v(" "+e._s(e.likedByMessage(e.story))+" ")]):e._e()]),n("div",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),e.story.createdAt).toUpperCase())+" ")]),n("div",{staticClass:"story-add-comment"},[n("form",{attrs:{method:"POST"},on:{submit:function(t){return e.addComment(e.story,e.idx,t)}}},[n("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[n("div",{},[n("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[n("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),n("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),n("div",{}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInput,expression:"newCommentInput"}],staticClass:"Ypffh",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInput},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addComment(e.story,e.idx,t)},input:function(t){t.target.composing||(e.newCommentInput=t.target.value)}}}),n("button",{attrs:{type:"submit"},on:{click:function(t){return e.addComment(e.story,e.idx,t)}}},[e._v(" Post ")])])])])])])],1)},Z=[],ee={components:{appHeader:C,newStory:U},data:function(){return{story:{},idx:-100,users:[],loggedInUser:{},newCommentInput:"",backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,toDeleteEntity:"",commentToDelete:{},storyToDelete:{},newStoryOn:!1,headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getStory:function(){var e=this.$route.params.storyId,t=this.$store.state.stories;this.story=t.find((function(t){return t._id===e}))},resetnewCommentsInput:function(){this.newCommentInput=""},timeDifference:function(e,t){var n=6e4,r=60*n,o=24*r,s=30*o,i=365*o,a=e-t;return a<n?Math.round(a/1e3)+" seconds ago":a<r?Math.round(a/n)+" minutes ago":a<o?Math.round(a/r)+" hours ago":a<s?"about "+Math.round(a/o)+" days ago":a<i?"about "+Math.round(a/s)+" months ago":"about "+Math.round(a/i)+" years ago"},likedByMessage:function(e){if(e.likedBy.length)return 1===e.likedBy.length?"":2===e.likedBy.length?"and 1 other":"and ".concat(e.likedBy.length-1," others")},latestLiker:function(e){if(e.likedBy.length)return e.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":e.likedBy[0].username},likedByMe:function(e){var t=this;if(!e.likedBy||!e.likedBy.length)return!1;var n=e.likedBy.find((function(e){return e._id===t.$store.state.loggedInUser._id}));return n},commentLikedByMe:function(e){var t=this;if(!e.likedBy.length)return!1;console.log(e.by.username,e.likedBy);var n=e.likedBy.find((function(e){return e===t.loggedInUser._id}));return n},toggleLike:function(e,t,n){var r=arguments,o=this;return Object(m["a"])(regeneratorRuntime.mark((function s(){var i,a,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=r.length>3&&void 0!==r[3]?r[3]:null,a=r.length>4&&void 0!==r[4]?r[4]:null,l=r.length>5&&void 0!==r[5]?r[5]:null,c={request:e,entityType:t,story:n,storyIdx:i,comment:a,commentIdx:l},s.next=6,o.$store.dispatch("toggleLike",c);case 6:case"end":return s.stop()}}),s)})))()},commentByMe:function(e){return e===this.$store.state.loggedInUser._id},addComment:function(e){var t=arguments,n=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,s,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:null,s=t.length>2?t[2]:void 0,"keydown"!==s.type||!s.shiftKey){r.next=4;break}return r.abrupt("return");case 4:if(s.preventDefault(),n.newCommentInput){r.next=8;break}return console.log("No text"),r.abrupt("return");case 8:return i=n.newCommentInput,a={story:e,storyIdx:o,text:i},r.next=12,n.$store.dispatch("addComment",a);case 12:return r.next=14,n.resetnewCommentsInput();case 14:case"end":return r.stop()}}),r)})))()},deleteComment:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commentToDelete,t.next=3,e.$store.dispatch("deleteComment",n);case 3:e.commentToDelete={};case 4:case"end":return t.stop()}}),t)})))()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",n);case 3:e.storyToDelete={};case 4:case"end":return t.stop()}}),t)})))()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},deleteConfirmed:function(){"Comment"===this.toDeleteEntity?(this.deleteComment(),this.closeBackground()):"Post"===this.toDeleteEntity&&(this.deleteStory(),this.closeBackground(),this.toDeleteEntity="",this.$router.push("/following-feed/"+this.loggedInUser._id))},setToDelete:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.toDeleteEntity=e,"Comment"===e?this.commentToDelete={story:t,storyIdx:n,comment:r,commentIdx:o}:"Post"===e&&(this.storyToDelete={story:t,idx:n}),this.openDeleteMenu()},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.$router.push("/following-feed/"+this.loggedInUser._id)},storyByMe:function(){return this.story.owner._id===this.loggedInUser._id},getUserImgForComment:function(e){var t=this.users.find((function(t){return t._id===e})),n=t.profileImgUrl;return n},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},commentLikeMessage:function(e){return e.likedBy.length?1===e.likedBy.length?"1 like":e.likedBy.length>1?"".concat(e.likedBy.length," likes"):void 0:"ERROR"},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.loggedInUser._id||e.$router.push("/"),t.next=5,e.setStories();case 5:return t.next=7,e.setUsers();case 7:e.loadUsers(),e.getStory();case 9:case"end":return t.stop()}}),t)})))()}},te=ee,ne=Object(l["a"])(te,Q,Z,!1,null,null,null),re=ne.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"liked-stories-page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[n("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?n("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),e.backgroundDisplayed?n("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?n("div",{staticClass:"delete-menu"},[e.storyByMe()?n("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete Post")]):e._e(),n("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?n("div",{staticClass:"are-you-sure-menu"},[n("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),n("span",{staticClass:"yesNo"},[n("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, delete")]),n("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, cancel")])])]):e._e()]):e._e(),n("div",{staticClass:"liked-stories-page-headline"},[e._v("Hi "+e._s(e.pageOwner.username)+'! Here are the posts you\'ve "liked" so far:')]),this.storiesToShow.length?e._e():n("div",{staticClass:"no-posts-yet"},[e._v('Oops! It seems you haven\'t "liked" any posts yet...')]),this.storiesToShow.length?n("ul",{staticClass:"liked-stories-page-story-list"},e._l(this.storiesToShow,(function(t){return n("li",{key:t._id},[n("div",{staticClass:"liked-stories-page-story-tile",on:{click:function(n){return e.sendToSingleStory(t._id)}}},[n("div",{staticClass:"tile-background"},[n("span",{staticClass:"tile-background-likes"},[n("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),n("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),e._v(" "+e._s(t.likedBy.length||0)+" ")]),n("span",{staticClass:"tile-background-comments"},[n("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})]),e._v(" "+e._s(t.comments.length||0)+" ")])]),n("div",{staticClass:"tile-image"},[n("img",{attrs:{src:t.imgUrl,alt:""}})])])])})),0):e._e()],1)},se=[],ie={components:{appHeader:C,newStory:U},data:function(){return{stories:[],loggedInUser:{},userId:"",pageOwner:{},pageOwnerFollowers:[],users:[],storiesToShow:[],backgroundDisplayed:!1,newStoryOn:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,storyToDelete:{},headerMenuShown:!1,editingNow:!1,profileTextEdit:"",followBackground:!1}},methods:{setStories:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){var e=this;this.stories=this.$store.state.stories;var t=this.stories.filter((function(t){return t.likedBy.find((function(t){return t._id===e.loggedInUser._id}))}));this.storiesToShow=t},getLoggedInUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},upgradeLoggedInUser:function(){var e=this;this.loggedInUser=this.users.find((function(t){return t._id===e.loggedInUser._id}))},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},storyByMe:function(){return this.loggedInUser._id===this.pageOwner._id},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadStories()},setToDelete:function(e){this.storyToDelete=e,this.openDeleteMenu()},sendToProfilePage:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.pageOwner=t.users.find((function(t){return t._id===e})),t.loggedInUser=t.$store.state.loggedInUser,t.userId=e,n.next=5,t.setUsers();case 5:return n.next=7,t.setStories();case 7:t.loadUsers(),t.loadStories(),t.$router.push("/profile-page/"+e),location.reload();case 11:case"end":return n.stop()}}),n)})))()},deleteConfirmed:function(){this.deleteStory(),this.closeBackground()},deleteStory:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",n);case 3:e.storyToDelete={},e.loadStories();case 5:case"end":return t.stop()}}),t)})))()},sendToSingleStory:function(e){this.$router.push("/single-story/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e},saveNewProfileText:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.pageOwner,r.profileText=e,n.next=4,t.$store.dispatch("saveNewProfileText",r);case 4:o=n.sent,"SUCCESS"===o?t.pageOwner.profileText=e:console.log("PROBLEM WITH SAVING TEXT!"),t.editingNow=!1;case 7:case"end":return n.stop()}}),n)})))()},addFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedInUser.following.unshift(e.pageOwner._id),e.pageOwner.followers.unshift(e.loggedInUser._id),n={follower:e.loggedInUser,following:e.pageOwner},t.next=5,e.$store.dispatch("addFollow",n);case 5:r=t.sent,"SUCCESS"===r&&console.log("SUCCESS FOLLOW!!!"),e.followBackground=!1;case 8:case"end":return t.stop()}}),t)})))()},deleteFollow:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.loggedInUser.following.findIndex((function(t){return t===e.pageOwner._id})),e.loggedInUser.following.splice(n,1),r=e.pageOwner.followers.findIndex((function(t){return t===e.loggedInUser._id})),e.pageOwner.followers.splice(r,1),o={follower:e.loggedInUser,following:e.pageOwner},t.next=7,e.$store.dispatch("deleteFollow",o);case 7:s=t.sent,"SUCCESS"===s&&console.log("SUCCESS UNFOLLOW!!!"),e.followBackground=!1;case 10:case"end":return t.stop()}}),t)})))()},loggedInFollowing:function(){var e=this;return this.loggedInUser.following.find((function(t){return t===e.pageOwner._id}))}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return e.userId=e.$route.params.userId,e.loggedInUser._id||e.$router.push("/"),t.next=6,e.setUsers();case 6:return t.next=8,e.setStories();case 8:e.loadUsers(),e.loadStories(),e.pageOwner=e.users.find((function(t){return t._id===e.userId})),e.upgradeLoggedInUser(),e.profileTextEdit=e.pageOwner.profileText;case 13:case"end":return t.stop()}}),t)})))()}},ae=ie,le=Object(l["a"])(ae,oe,se,!1,null,null,null),ce=le.exports;r["a"].use(d["a"]);var ue=[{path:"/",name:"login-signup",component:W},{path:"/following-feed/:userId",name:"following-feed",component:N},{path:"/explore-feed/:userId",name:"explore-feed",component:D},{path:"/liked-stories-page/:userId",name:"liked-stories-page",component:ce},{path:"/profile-page/:userId",name:"profile-page",component:G},{path:"/single-story/:storyId",name:"single-story",component:re}],de=new d["a"]({routes:ue}),pe=de,ge=n("2f62"),me=(n("d3b7"),{query:he,_save:be,_makeId:Pe,_loadStories:Re,_toggleLike:ye,getLoggedInUser:we,addComment:_e,deleteComment:xe,addStory:Oe,deleteStory:Ie,_loadUsers:Te,getRandomIntInclusive:Le,saveNewProfileText:$e,updateFollow:je,login:Ee,logout:Ae}),fe={};function he(e){return ve.apply(this,arguments)}function ve(){return ve=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,"/story"!==t&&"/user"!==t&&"/username"!==t){e.next=7;break}return e.next=4,S.a.get(t+"/"+n);case 4:r=e.sent,e.next=11;break;case 7:if("/userAll"!==t&&"/storyAll"!==t){e.next=11;break}return e.next=10,S.a.get(t);case 10:r=e.sent;case 11:if("/storyAll"!==t){e.next=14;break}return o=JSON.parse(JSON.stringify(r.data)).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),e.abrupt("return",Promise.resolve(JSON.parse(JSON.stringify(o))));case 14:return e.abrupt("return",Promise.resolve(JSON.parse(JSON.stringify(r.data))));case 15:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function we(){var e=JSON.parse(localStorage.getItem("loggedInUser"));return e}function ye(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s,i,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=we(),e.next=3,he("/storyAll");case 3:return r=e.sent,o=r.findIndex((function(e){return e._id===t.story._id})),s=t,s.storyIdx=o,"add"===t.request?(i={_id:n._id,username:n.username,profileImgUrl:n.profileImgUrl},s.likeToAdd=i,"story"===t.entityType?r[o].likedBy.unshift(JSON.parse(JSON.stringify(i))):r[o].comments[t.commentIdx].likedBy.unshift(i._id)):(a=-100,"story"===t.entityType?(a=r[o].likedBy.findIndex((function(e){return e._id===n._id})),r[o].likedBy.splice(a,1)):(a=r[o].comments[t.commentIdx].likedBy.findIndex((function(e){return e===n._id})),r[o].comments[t.commentIdx].likedBy.splice(a,1)),s.removeIdx=a),l=JSON.parse(JSON.stringify(r[o])),e.next=11,S.a.put("/story",l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function _e(e){return ke.apply(this,arguments)}function ke(){return ke=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=we(),r={_id:Pe(),by:{_id:n._id,username:n.username,imgUrl:n.profileImgUrl},text:t.text,likedBy:[]},e.next=4,he("/storyAll");case 4:return o=e.sent,s=o.findIndex((function(e){return e._id===t.story._id})),o[s].comments.push(r),e.next=9,S.a.put("/story",o[s]);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function xe(e){return Se.apply(this,arguments)}function Se(){return Se=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he("/storyAll");case 2:return n=e.sent,r=n.findIndex((function(e){return e._id===t.story._id})),n[r].comments.splice(t.commentIdx,1),e.next=7,S.a.put("/story",n[r]);case 7:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function be(e,t){localStorage.setItem(e,JSON.stringify(t))}function Ie(e){return Me.apply(this,arguments)}function Me(){return Me=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=we(),e.next=3,S.a.delete("/story/"+t._id);case 3:return e.next=5,he("/user",n._id);case 5:if(r=e.sent,o=r.ownedStories.findIndex((function(e){return e===t._id})),!(o<0||void 0===o)){e.next=10;break}return console.log("ERROR! CANNOT DELETE FROM USER OWNED STORIES!!!"),e.abrupt("return");case 10:return r.ownedStories.splice(o,1),e.next=13,S.a.put("/user",r);case 13:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}function Oe(e){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/story",t);case 2:return n=e.sent,e.next=5,he("/user",n.data.owner._id);case 5:return r=e.sent,r.ownedStories.unshift(n.data._id),e.next=9,S.a.put("/user",r);case 9:return e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}function Re(){return Be.apply(this,arguments)}function Be(){return Be=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he("/storyAll");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Te(){return De.apply(this,arguments)}function De(){return De=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he("/userAll");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Pe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function Le(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}function $e(e){return ze.apply(this,arguments)}function ze(){return ze=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/user",t);case 2:if(n=e.sent,200!==n.status){e.next=5;break}return e.abrupt("return","SUCCESS");case 5:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function je(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/user",t.follower);case 2:return n=e.sent,e.next=5,S.a.put("/user",t.following);case 5:if(r=e.sent,200!==n.status||200!==r.status){e.next=8;break}return e.abrupt("return","SUCCESS");case 8:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Ee(e){return Fe.apply(this,arguments)}function Fe(){return Fe=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/login",t);case 2:if(n=e.sent,200!==n.status){e.next=13;break}return r={},r._id=n.data._id,r.username=n.data.username,r.fullname=n.data.fullname,r.profileImgUrl=n.data.profileImgUrl,be("loggedInUser",r),e.abrupt("return",n.data);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function Ae(){var e={};be("loggedInUser",e)}be("loggedInUser",fe),r["a"].use(ge["a"]);var He=new ge["a"].Store({strict:!0,state:{},getters:{getUsers:function(e){var t=e.users;return t},getStories:function(e){var t=e.stories;return t}},mutations:{loadStories:function(e,t){var n=t.payload;e.stories=n.slice()},loadUsers:function(e,t){var n=t.users;e.users=n.slice()},toggleLike:function(e,t){var n=t.payload,r=e.stories.findIndex((function(e){return e._id===n.story._id})),o=n.commentIdx;if("add"===n.request)"story"===n.entityType?e.stories[r].likedBy.unshift(n.likeToAdd):e.stories[r].comments[o].likedBy.unshift(n.likeToAdd._id);else{var s=n.removeIdx;"story"===n.entityType?e.stories[r].likedBy.splice(s,1):e.stories[r].comments[o].likedBy.splice(s,1)}},addComment:function(e,t){var n=t.payload,r=e.stories.findIndex((function(e){return e._id===n.story._id}));e.stories[r].comments.push(n.newComment)},deleteComment:function(e,t){var n=t.payload,r=e.stories.findIndex((function(e){return e._id===n.story._id}));e.stories[r].comments.splice(n.commentIdx,1)},deleteStory:function(e,t){var n=t.payload,r=e.stories.findIndex((function(e){return e._id===n._id}));e.stories.splice(r,1);var o=e.users.findIndex((function(t){return t._id===e.loggedInUser._id})),s=e.users[o].ownedStories.findIndex((function(e){return e===n._id}));e.users[o].ownedStories.splice(s,1)},addStory:function(e,t){var n=t.payload;e.stories.unshift(n)},getLoggedInUser:function(e,t){var n=t.payload;e.loggedInUser=n},saveNewProfileText:function(e,t){var n=t.user,r=e.users.findIndex((function(e){return e._id===n._id}));e.users[r].profileText=n.profileText},addFollow:function(e,t){var n=t.payload,r=e.users.findIndex((function(e){return e._id===n.follower._id})),o=e.users.findIndex((function(e){return e._id===n.following._id}));e.users[r].following.unshift(n.following._id),e.users[o].followers.unshift(n.follower._id)},deleteFollow:function(e,t){var n=t.payload,r=e.users.findIndex((function(e){return e._id===n.follower._id})),o=e.users.findIndex((function(e){return e._id===n.following._id})),s=e.users[r].following.findIndex((function(e){return e===n.following._id})),i=e.users[o].followers.findIndex((function(e){return e===n.follower._id}));e.users[r].following.splice(s,1),e.users[o].followers.splice(i,1)},login:function(e,t){var n=t.payload;e.loggedInUser._id=n._id,e.loggedInUser.username=n.username,e.loggedInUser.fullname=n.fullname,e.loggedInUser.profileImgUrl=n.profileImgUrl},logout:function(e){e.loggedInUser._id="",e.loggedInUser.username="",e.loggedInUser.fullname="",e.loggedInUser.profileImgUrl=""}},actions:{loadStories:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,me._loadStories();case 3:r=t.sent,n({type:"loadStories",payload:r});case 5:case"end":return t.stop()}}),t)})))()},loadUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me._loadUsers();case 2:n=t.sent,e.commit({type:"loadUsers",users:n});case 4:case"end":return t.stop()}}),t)})))()},toggleLike:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me._toggleLike(t);case 3:o=n.sent,r({type:"toggleLike",payload:o});case 5:case"end":return n.stop()}}),n)})))()},addComment:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.addComment(t);case 3:o=n.sent,t.newComment=o,r({type:"addComment",payload:t});case 6:case"end":return n.stop()}}),n)})))()},deleteComment:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.deleteComment(t);case 3:return n.next=5,r({type:"deleteComment",payload:t});case 5:case"end":return n.stop()}}),n)})))()},deleteStory:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,t.idx||(t.idx=null),n.next=4,me.deleteStory(t);case 4:r({type:"deleteStory",payload:t});case 5:case"end":return n.stop()}}),n)})))()},addStory:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.addStory(t);case 3:o=n.sent,r({type:"addStory",payload:o});case 5:case"end":return n.stop()}}),n)})))()},getLoggedInUser:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,me.getLoggedInUser();case 3:return r=t.sent,n({type:"getLoggedInUser",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},saveNewProfileText:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.saveNewProfileText(t);case 3:if(o=n.sent,"SUCCESS"!==o){n.next=7;break}return r({type:"saveNewProfileText",user:t}),n.abrupt("return","SUCCESS");case 7:case"end":return n.stop()}}),n)})))()},addFollow:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.updateFollow(t);case 3:if(o=n.sent,"SUCCESS"!==o){n.next=7;break}return r({type:"addFollow",payload:t}),n.abrupt("return","SUCCESS");case 7:case"end":return n.stop()}}),n)})))()},deleteFollow:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.updateFollow(t);case 3:if(o=n.sent,"SUCCESS"!==o){n.next=7;break}return r({type:"deleteFollow",payload:t}),n.abrupt("return","SUCCESS");case 7:case"end":return n.stop()}}),n)})))()},login:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,me.login(t);case 3:if(o=n.sent,!o){n.next=9;break}return r({type:"login",payload:o}),n.abrupt("return",o);case 9:return n.abrupt("return","");case 10:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,me.logout();case 3:n({type:"logout"});case 4:case"end":return t.stop()}}),t)})))()}}});n("f27b");r["a"].config.productionTip=!1,new r["a"]({router:pe,store:He,render:function(e){return e(u)}}).$mount("#app")},"85ec":function(e,t,n){},f27b:function(e,t,n){}});
//# sourceMappingURL=app.7877976f.js.map