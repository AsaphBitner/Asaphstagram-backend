(function(e){function t(t){for(var n,i,a=t[0],c=t[1],l=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],i={name:"App",components:{}},a=i,c=(r("034f"),r("2877")),l=Object(c["a"])(a,s,o,!1,null,null,null),u=l.exports,d=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("app-header"),r("h1",[e._v("LANDING PAGE!!!")]),r("div",{staticClass:"img-container"},[r("router-link",{attrs:{to:"/following-feed/"+e.userId}},[e._v("FEED")])],1)],1)},m=[],h=r("1da1"),g=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-container",on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("close")}}},[r("div",{staticClass:"header-flex-wide-left"}),r("div",{staticClass:"header-flex-1"},[r("h3",{staticClass:"header-logo",on:{click:function(t){return e.sendToFeed()}}},[e._v("Asaphstagram")])]),r("div",{staticClass:"header-flex-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBarContent,expression:"searchBarContent"}],staticClass:"header-search",attrs:{autocapitalize:"none",type:"search",placeholder:"Search"},domProps:{value:e.searchBarContent},on:{keyup:function(t){return e.searchDiv()},input:function(t){t.target.composing||(e.searchBarContent=t.target.value)}}}),e.searchBarContent?r("div",{staticClass:"app-header-search-results"},[r("div",{staticClass:"search-triangle"}),e.searchResultUsers.length?e._e():r("div",{staticClass:"header-search-nothing"},[e._v("Nothing Found...")]),e.searchResultUsers.length?r("ul",e._l(e.searchResultUsers,(function(t){return r("li",{key:t._id,on:{click:function(r){return e.sendToProfilePage(t._id)}}},[r("div",{staticClass:"search-results-profile-img"},[r("img",{attrs:{src:t.profileImgUrl,alt:""}})]),r("div",{staticClass:"search-results-names"},[r("span",[e._v(e._s(t.username))]),e._v(" "+e._s(t.fullname)+" ")])])})),0):e._e()]):e._e()]),r("div",{staticClass:"header-flex-3"},[r("router-link",{attrs:{to:"/"}},[r("svg",{staticClass:"header-smiley header-icon",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),r("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])]),r("router-link",{attrs:{to:"/following-feed/"+e.userId}},[r("svg",{staticClass:"header-home header-icon",attrs:{"aria-label":"Home",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"}})])]),r("router-link",{attrs:{to:"/explore-feed/"+e.userId}},[r("svg",{staticClass:"header-explore header-icon",attrs:{"aria-label":"Find People",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z","fill-rule":"evenodd"}})])]),r("span",{staticClass:"header-add-post-container",on:{click:e.addStory}},[r("svg",{staticClass:"header-add-post header-icon ",attrs:{"aria-label":"New Post",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22"}},[r("path",{attrs:{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"}}),r("path",{attrs:{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}}),r("path",{attrs:{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"}})])]),r("div",{staticClass:"header-profile-image-container header-icon",on:{click:function(t){return t.stopPropagation(),e.toggleProfileMenu("toggle")}}},[r("img",{attrs:{src:this.loggedInUser.profileImgUrl,alt:""}}),e.headerMenuShown?r("div",{staticClass:"header-profile-menu-and-triangle"},[r("div",{staticClass:"profile-triangle"}),r("div",{staticClass:"header-profile-logout-menu"},[r("div",{staticClass:"header-profile-to-profile",on:{click:function(t){return e.sendToProfilePage(e.loggedInUser._id)}}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Profile",fill:"#262626",height:"16",role:"img",viewBox:"0 0 32 32",width:"16"}},[r("path",{attrs:{d:"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}})]),e._v(" Profile ")]),r("div",{staticClass:"header-profile-logout",on:{click:function(t){return t.stopPropagation(),e.logout.apply(null,arguments)}}},[e._v("Log Out")])])]):e._e()])],1),r("div",{staticClass:"header-flex-wide-right"})])}),f=[],v=(r("a434"),r("fb6a"),r("159b"),r("caad"),r("2532"),{name:"app-header",data:function(){return{loggedInUser:{},userId:"",users:[],searchBarContent:"",searchResultUsers:[]}},props:{headerMenuShown:Boolean},methods:{addStory:function(){this.$emit("openNewStory")},sendToFeed:function(){this.$router.push("/following-feed/"+this.userId)},getLoggedInUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},searchDiv:function(){var e=this;this.loadUsers(),this.searchResultUsers.splice(0,this.searchResultUsers.length);var t=this.users.slice();t.forEach((function(t){t.username.toLowerCase().includes(e.searchBarContent.toLowerCase())&&e.searchResultUsers.push(t)}))},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},logout:function(){console.log("Sorry, can't log out right now")},toggleProfileMenu:function(e){"open"===e?this.$emit("headerProfileTrue"):"close"===e?this.$emit("headerProfileFalse"):"toggle"===e&&(!0===this.headerMenuShown?this.$emit("headerProfileFalse"):this.$emit("headerProfileTrue"))}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:e.userId=e.loggedInUser._id,e.setUsers(),e.loadUsers(),e.profileMenu=!1;case 6:case"end":return t.stop()}}),t)})))()}}),y=v,w=Object(c["a"])(y,g,f,!1,null,null,null),C=w.exports,k={components:{appHeader:C},data:function(){return{loggedInUser:{},userId:""}},methods:{getLoggedInUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,e.getLoggedInUser();case 3:e.userId=e.loggedInUser.id;case 4:case"end":return t.stop()}}),t)})))()}},_=k,x=Object(c["a"])(_,p,m,!1,null,null,null),S=x.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("app-header",{on:{openNewStory:function(t){return e.openNewStory()}}}),r("h1",[e._v("Explore Feed!!!")]),e._m(0)],1)},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"img-container"},[r("img",{attrs:{src:"img/Stock photos - NY/NY01.jpg",alt:"Sorry, no image here"}})])}],I={components:{appHeader:C}},O=I,B=Object(c["a"])(O,b,M,!1,null,null,null),U=B.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?r("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),this.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe&&e.storyToDelete||e.commentToDelete.comment?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete "+e._s(this.toDeleteEntity))]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeBackground()}}},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e(),r("div",{staticClass:"stories-container"},e._l(this.storiesToShow,(function(t,n){return r("ul",{key:t._id,staticClass:"story-list"},[r("li",[r("div",{staticClass:"single-story-container"},[r("div",{staticClass:"story-user-photo-name"},[r("div",{staticClass:"small-profile-img-story",on:{click:function(r){return e.sendToProfilePage(t.owner._id)}}},[r("img",{attrs:{src:t.owner.profileImgUrl,alt:"ERROR!"}})]),r("div",{staticClass:"story-owner-username",on:{click:function(r){return e.sendToProfilePage(t.owner._id)}}},[e._v(" "+e._s(t.owner.username)+" ")]),r("span",{staticClass:"story-options",on:{click:function(r){return e.setToDelete(" Post",t)}}},[r("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),r("div",{staticClass:"main-image-story",on:{click:function(r){return e.openSingleStory(t)}}},[r("img",{attrs:{src:t.imgUrl,alt:"ERROR!"}})]),r("div",{staticClass:"story-after-photo"},[r("div",{staticClass:"story-four-icons-container"},[r("div",{staticClass:"story-four-icons"},[e.likedByMe(t)?e._e():r("span",{on:{click:function(r){return e.toggleLike("add","story",t,n)}}},[r("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe(t)?r("span",{on:{click:function(r){return e.toggleLike("remove","story",t,n)}}},[r("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),r("span",{staticClass:"story-comment-icon",on:{click:function(r){return e.openSingleStory(t)}}},[r("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),r("span",{staticClass:"story-message-icon"},[r("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),r("span",{staticClass:"story-bookmark"},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])])]),r("div",{staticClass:"story-liked-by"},[t.likedBy.length?r("p",[e._v(" Liked by "),r("span",{on:{click:function(r){return e.sendToProfilePage(t.likedBy[0])}}},[e._v(e._s(e.latestLiker(t)))]),e._v(" "+e._s(e.likedByMessage(t))+" ")]):e._e()]),r("div",{staticClass:"story-text"},[r("p",{on:{click:function(t){return e.testingElement(e.$el)}}},[r("span",{on:{click:function(r){return e.sendToProfilePage(t.owner._id)}}},[e._v(e._s(t.owner.username))]),e._v(" "+e._s(t.text)+" ")])]),r("div",{staticClass:"story-comments"},[t.comments?r("p",{staticClass:"view-all-comments",on:{click:function(r){return e.openSingleStory(t)}}},[e._v(" View all "+e._s(t.comments.length)+" comments ")]):e._e(),e._l(t.comments,(function(s,o){return r("ul",{key:s._id},[o>=t.comments.length-2?r("li",[r("p",[r("span",{on:{click:function(t){return e.sendToProfilePage(s.by._id)}}},[e._v(e._s(s.by.username))]),e._v(" "+e._s(s.text)+" ")]),e.commentByMe(s.by._id)?r("span",{staticClass:"delete-comment",on:{click:function(r){return e.setToDelete(" Comment",t,s,o)}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(t,o)?e._e():r("span",{staticClass:"comment-like",on:{click:function(r){return e.toggleLike("add","comment",t,n,s,o)}}},[r("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(t,o)?r("span",{staticClass:"comment-unlike",on:{click:function(r){return e.toggleLike("remove","comment",t,n,s,o)}}},[r("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()]):e._e()])}))],2),r("div",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),t.createdAt).toUpperCase())+" ")]),r("div",{staticClass:"story-add-comment"},[r("form",{attrs:{method:"POST"},on:{submit:function(r){return e.addComment(t,n,r)}}},[r("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[r("div",[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),r("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),r("div",{}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInputs[n],expression:"newCommentInputs[idx]"}],staticClass:"comment-text-area",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInputs[n]},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addComment(t,n,r)},input:function(t){t.target.composing||e.$set(e.newCommentInputs,n,t.target.value)}}}),r("button",{attrs:{type:"submit"},on:{click:function(r){return e.addComment(t,n,r)}}},[e._v(" Post ")])])])])])])])})),0),e.storiesFollowing.length>e.numStoriesToShow?r("div",{staticClass:"load-more-storeis",on:{click:e.LoadMoreStoreis}},[r("h1",[e._v("Load More Posts")])]):e._e()],1)},R=[],P=(r("7db0"),r("4de4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new-story-menus-container"},[e.background?r("div",{staticClass:"menu-background",on:{click:e.closeMenu}}):e._e(),e.screen1?r("div",{staticClass:"story-upload-image screen1"},[r("div",{staticClass:"story-upload-image-header"},[r("span"),e._v(" New Post "),r("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),r("div",{staticClass:"story-upload-image-body"},[e.isLoading?e._e():r("span",[e._v("Drag A Photo Here")]),e.isLoading?r("div",{staticClass:"loading-gif"},[r("img",{attrs:{src:"img/img-loading-circle-of-circles-gif.gif",alt:""}})]):e._e(),e.isLoading?e._e():r("label",{class:{drag:e.isDragOver},attrs:{for:"img-upload"},on:{drop:function(t){return t.preventDefault(),e.handleFile.apply(null,arguments)},dragover:function(t){t.preventDefault(),e.isDragOver=!0},dragleave:function(t){e.isDragOver=!1}}},[e.isDragOver?e._e():r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Icon to represent media such as images or videos",fill:"#262626",height:"77",role:"img",viewBox:"0 0 97.6 77.3",width:"96"}},[r("path",{attrs:{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z"}}),r("path",{attrs:{d:"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z"}}),r("path",{attrs:{d:"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z"}})]),e.isDragOver?e._e():r("h2",[e._v("Or Select A File Directly")]),e.isDragOver?r("h2",[e._v(" Drop File Here")]):e._e(),r("input",{staticClass:"upload-img",attrs:{type:"file",id:"img-upload"},on:{change:e.handleFile}})])])]):e._e(),e.screen2?r("div",{staticClass:"story-add-caption screen2"},[r("div",{staticClass:"add-caption-header"},[r("span",{staticClass:"new-story-back",on:{click:function(t){return e.switchToScreen("1")}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Back",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M40 33.5c-.4 0-.8-.1-1.1-.4L24 18.1l-14.9 15c-.6.6-1.5.6-2.1 0s-.6-1.5 0-2.1l16-16c.6-.6 1.5-.6 2.1 0l16 16c.6.6.6 1.5 0 2.1-.3.3-.7.4-1.1.4z"}})])]),r("h1",[e._v("Compose")]),r("span",{staticClass:"close-menu",on:{click:e.closeMenu}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Close",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z","fill-rule":"evenodd"}})])])]),r("div",{staticClass:"add-caption-body"},[r("div",{staticClass:"img-container"},[r("img",{attrs:{src:this.newImgUrl,alt:""}})]),r("div",{staticClass:"new-story-caption-container",attrs:{id:"new-story-caption-container"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newStoryText,expression:"newStoryText"}],staticClass:"caption-text",attrs:{name:"",cols:"30",rows:"10",placeholder:"Add a caption..."},domProps:{value:e.newStoryText},on:{input:function(t){t.target.composing||(e.newStoryText=t.target.value)}}}),r("button",{on:{click:function(t){return e.addStory()}}},[e._v("Publish")])])])]):e._e()])}),T=[],L=r("bc3a"),z=r.n(L),j=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="asaphstagram2021",n="Asaphstagram_2021",s="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),o=new FormData,o.append("file",t),o.append("upload_preset",n),e.prev=6,e.next=9,z.a.post(s,o);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),$={data:function(){return{loggedInUser:this.$store.state.loggedInUser,isLoading:!1,background:!0,screen1:!0,screen2:!1,newStoryText:"",newImgUrl:"",isDragOver:!1}},methods:{switchToScreen:function(e){"1"===e?(this.screen1=!0,this.screen2=!1,this.newImgUrl=""):(this.screen1=!1,this.screen2=!0,this.newStoryText="")},closeMenu:function(){this.$emit("close")},addStory:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={text:e.newStoryText,imgUrl:e.newImgUrl,createdAt:Date.now(),owner:{id:e.loggedInUser.id,username:e.loggedInUser.username,imgUrl:e.loggedInUser.profileImgUrl},likedBy:[],comments:[]},t.next=3,e.$store.dispatch("addStory",r);case 3:e.$emit("saved");case 4:case"end":return t.stop()}}),t)})))()},handleFile:function(e){var t;"change"===e.type?t=e.target.files[0]:"drop"===e.type&&(t=e.dataTransfer.files[0]),this.onUploadImg(t)},onUploadImg:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,t.isDragOver=!1,r.next=4,j(e);case 4:n=r.sent,t.newImgUrl=n.url,t.isLoading=!1,t.switchToScreen("2");case 8:case"end":return r.stop()}}),r)})))()}},created:function(){this.background=!0,this.screen1=!0}},N=$,F=Object(c["a"])(N,P,T,!1,null,null,null),E=F.exports,A={components:{appHeader:C,newStory:E},data:function(){return{loggedInUser:{},numStoriesToShow:6,stories:[],storiesFollowing:[],storiesToShow:[],users:[],newCommentInputs:[],numCommentsToShow:1,commentsToShow:[],backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,toDeleteEntity:"",commentToDelete:{},storyToDelete:{},newStoryOn:!1,headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){this.stories=this.$store.state.stories},loadLimitedStories:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStories();case 2:r=e.users.find((function(t){return t._id===e.loggedInUser._id})),e.storiesFollowing=e.stories.filter((function(e){var t=r.following.find((function(t){return t===e.owner._id}));return!!t})),n=e.stories.slice(0,e.numStoriesToShow),e.storiesToShow=n.slice();while(e.newCommentInputs.length<e.numStoriesToShow)e.newCommentInputs.push("");case 7:case"end":return t.stop()}}),t)})))()},LoadMoreStoreis:function(){this.numStoriesToShow+=6,this.loadLimitedStories()},getLoggedInUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},resetnewCommentsInput:function(e){this.newCommentInputs[e]=""},timeDifference:function(e,t){var r=6e4,n=60*r,s=24*n,o=30*s,i=365*s,a=e-t;return a<r?Math.round(a/1e3)+" seconds ago":a<n?Math.round(a/r)+" minutes ago":a<s?Math.round(a/n)+" hours ago":a<o?"about "+Math.round(a/s)+" days ago":a<i?"about "+Math.round(a/o)+" months ago":"about "+Math.round(a/i)+" years ago"},likedByMessage:function(e){if(e.likedBy.length)return 1===e.likedBy.length?"":2===e.likedBy.length?"and 1 other":"and ".concat(e.likedBy.length-1," others")},latestLiker:function(e){if(e.likedBy.length)return e.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":e.likedBy[0].username},likedByMe:function(e){var t=this;if(!e.likedBy||!e.likedBy.length)return!1;var r=e.likedBy.find((function(e){return e._id===t.$store.state.loggedInUser._id}));return r},commentLikedByMe:function(e,t){var r=this;if(!e.comments[t].likedBy)return!1;var n=e.comments[t].likedBy.find((function(e){return e._id===r.$store.state.loggedInUser._id}));return n},toggleLike:function(e,t,r,n){var s=arguments,o=this;return Object(h["a"])(regeneratorRuntime.mark((function i(){var a,c,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:null,c=s.length>5&&void 0!==s[5]?s[5]:null,l={request:e,entityType:t,story:r,storyIdx:n,comment:a,commentIdx:c},i.next=5,o.$store.dispatch("toggleLike",l);case 5:o.loadLimitedStories();case 6:case"end":return i.stop()}}),i)})))()},commentByMe:function(e){return e===this.$store.state.loggedInUser._id},addComment:function(e,t,r){var n=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!r.shiftKey){s.next=2;break}return s.abrupt("return");case 2:if(r.preventDefault(),n.newCommentInputs[t]){s.next=6;break}return console.log("No text"),s.abrupt("return");case 6:return o=n.newCommentInputs[t],i={story:e,storyIdx:t,text:o},s.next=10,n.$store.dispatch("addComment",i);case 10:return s.next=12,n.resetnewCommentsInput(t);case 12:n.loadLimitedStories();case 13:case"end":return s.stop()}}),s)})))()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1,this.loadLimitedStories()},deleteConfirmed:function(){" Comment"===this.toDeleteEntity?(this.deleteComment(),this.closeBackground()):" Post"===this.toDeleteEntity&&(this.deleteStory(),this.closeBackground())},setToDelete:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.toDeleteEntity=e," Comment"===e?this.commentToDelete={story:t,comment:r,commentIdx:n}:" Post"===e&&(this.storyToDelete=t),this.openDeleteMenu()},deleteComment:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commentToDelete,t.next=3,e.$store.dispatch("deleteComment",r);case 3:e.commentToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},deleteStory:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.storyToDelete={},e.loadLimitedStories();case 5:case"end":return t.stop()}}),t)})))()},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadLimitedStories()},storyByMe:function(){return!!this.storyToDelete&&this.storyToDelete.owner._id===this.loggedInUser._id},openSingleStory:function(e){this.$router.push("/single-story/"+e._id)},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,e.getLoggedInUser();case 3:return r=e.$route.params.userId,n=e.loggedInUser._id,r!==n&&(console.log("user ID: ",r,"logged in ID: ",n),e.$router.push("/")),t.next=8,e.setUsers();case 8:return e.loadUsers(),t.next=11,e.setStories();case 11:e.loadLimitedStories();case 12:case"end":return t.stop()}}),t)})))()}},H=A,V=Object(c["a"])(H,D,R,!1,null,null,null),q=V.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("app-header"),r("h1",[e._v("LOGIN SIGNUP!!!!")])],1)},G=[],J={components:{appHeader:C}},K=J,Q=Object(c["a"])(K,Y,G,!1,null,null,null),W=Q.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile-page-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?r("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),e.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete Post")]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, cancel")])])]):e._e()]):e._e(),r("div",{staticClass:"profile-page-upper-part"},[r("div",{staticClass:"profile-page-profile-photo"},[r("img",{attrs:{src:this.pageOwner.profileImgUrl,alt:""}})]),r("div",{staticClass:"profile-page-texts-container"},[r("div",{staticClass:"profile-page-username-options"},[r("span",{staticClass:"profile-page-username"},[e._v(e._s(e.pageOwner.username))]),r("span",{staticClass:"profile-page-options"},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Options",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),r("div",{staticClass:"post-follower-following-count"},[r("div",[r("span",[e._v(e._s(e.pageOwner.ownedStories.length||0))]),e._v(" Posts")]),r("div",[r("span",[e._v(e._s(e.pageOwner.followers.length||0))]),e._v(" Followers")]),r("div",[r("span",[e._v(e._s(e.pageOwner.following.length||0))]),e._v(" Following")])]),r("div",{staticClass:"fullname"},[e._v(" "+e._s(e.pageOwner.fullname)+" ")]),r("div",{staticClass:"profile-text"},[e._v(e._s(e.pageOwner.profileText))]),r("div",{staticClass:"followers-detailed"},[e.pageOwnerFollowers.length?r("div",[e._v("Followed by "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[0]._id)}}},[e._v(e._s(e.pageOwnerFollowers[0].username))])]):e._e(),2===e.pageOwnerFollowers.length?r("div",[e._v(" and "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))])]):e._e(),3===e.pageOwnerFollowers.length?r("div",[e._v(" , "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and 1 other")]):e._e(),e.pageOwnerFollowers.length>3?r("div",[e._v(" , "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.pageOwnerFollowers[1]._id)}}},[e._v(e._s(e.pageOwnerFollowers[1].username))]),e._v(", and "),r("span",[e._v(e._s(e.pageOwnerFollowers.length-2))]),e._v(" others")]):e._e()])])]),r("div",{staticClass:"profile-page-lower-part"},[r("div",{staticClass:"dividing-line"}),r("div",{staticClass:"profile-page-lower-part-title"},[r("span",[r("svg",{attrs:{height:"12",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}})]),r("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}}),e._v(" Posts ")])]),this.storiesToShow.length?e._e():r("div",{staticClass:"no-posts-yet"},[e._v("No Posts yet...")]),this.storiesToShow.length?r("ul",{staticClass:"profile-page-story-list"},e._l(this.storiesToShow,(function(t){return r("li",{key:t._id},[r("div",{staticClass:"profile-page-story-tile",on:{click:function(r){return e.sendToSingleStory(t._id)}}},[r("div",{staticClass:"tile-background"},[r("span",{staticClass:"tile-background-options",on:{click:function(r){return r.stopPropagation(),e.setToDelete(t)}}},[r("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])]),r("span",{staticClass:"tile-background-likes"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})]),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),e._v(" "+e._s(t.likedBy.length||0)+" ")]),r("span",{staticClass:"tile-background-comments"},[r("svg",{attrs:{height:"19",viewBox:"0 0 48 48",width:"19"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})]),e._v(" "+e._s(t.comments.length||0)+" ")])]),r("div",{staticClass:"tile-image"},[r("img",{attrs:{src:t.imgUrl,alt:""}})])])])})),0):e._e()])],1)},Z=[],ee={components:{appHeader:C,newStory:E},data:function(){return{stories:[],loggedInUser:{},userId:"",pageOwner:{},pageOwnerFollowers:[],users:[],storiesToShow:[],backgroundDisplayed:!1,newStoryOn:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,storyToDelete:{},headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},loadStories:function(){var e=this;this.stories=this.$store.state.stories,this.storiesToShow=this.stories.filter((function(t){return t.owner._id===e.userId}))},filterFollowers:function(){var e=this;this.pageOwnerFollowers=this.pageOwner.followers.filter((function(t){return t._id!==e.pageOwner._id}))},getLoggedInUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},storyByMe:function(){return this.loggedInUser._id===this.pageOwner._id},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.loadStories()},setToDelete:function(e){this.storyToDelete=e,this.openDeleteMenu()},sendToProfilePage:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return localStorage.clear(),t.pageOwner=t.users.find((function(t){return t._id===e})),t.loggedInUser=t.$store.state.loggedInUser,t.userId=e,r.next=6,t.setUsers();case 6:return r.next=8,t.setStories();case 8:t.loadUsers(),t.loadStories(),t.filterFollowers(),t.$router.push("/profile-page/"+e);case 12:case"end":return r.stop()}}),r)})))()},deleteConfirmed:function(){this.deleteStory(),this.closeBackground()},deleteStory:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.storyToDelete={},e.loadStories();case 5:case"end":return t.stop()}}),t)})))()},sendToSingleStory:function(e){this.$router.push("/single-story/"+e)},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,e.getLoggedInUser();case 3:return e.userId=e.$route.params.userId,t.next=6,e.setUsers();case 6:return t.next=8,e.setStories();case 8:e.loadUsers(),e.loadStories(),e.pageOwner=e.users.find((function(t){return t._id===e.userId})),e.filterFollowers();case 12:case"end":return t.stop()}}),t)})))()}},te=ee,re=Object(c["a"])(te,X,Z,!1,null,null,null),ne=re.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"single-page-story-container",on:{click:function(t){return e.headerProfileMenuChange(!1)}}},[r("app-header",{attrs:{headerMenuShown:e.headerMenuShown},on:{openNewStory:function(t){return e.openNewStory()},headerProfileTrue:function(t){return e.headerProfileMenuChange(!0)},headerProfileFalse:function(t){return e.headerProfileMenuChange(!1)}}}),e.newStoryOn?r("new-story",{on:{close:function(t){return e.closeNewStory("no update")},saved:function(t){return e.closeNewStory("yes update")}}}):e._e(),this.backgroundDisplayed?r("div",{staticClass:"menu-background",on:{click:function(t){return e.closeBackground()}}},[this.deleteMenuDisplayed?r("div",{staticClass:"delete-menu"},[e.storyByMe()?r("span",{staticClass:"menu-option-delete",on:{click:function(t){return t.stopPropagation(),e.openComfirmMenu()}}},[e._v("Delete "+e._s(this.toDeleteEntity))]):e._e(),r("span",{staticClass:"menu-option-cancel",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("Cancel")])]):e._e(),e.confirmMenuDisplayed?r("div",{staticClass:"are-you-sure-menu"},[r("span",{staticClass:"confirmation"},[e._v("Are you sure?")]),r("span",{staticClass:"yesNo"},[r("span",{staticClass:"yes",on:{click:function(t){return t.stopPropagation(),e.deleteConfirmed()}}},[e._v("Yes, Delete")]),r("span",{staticClass:"no",on:{click:function(t){return t.stopPropagation(),e.closeBackground()}}},[e._v("No, Cancel")])])]):e._e()]):e._e(),r("div",{staticClass:"single-story-on-page-container",attrs:{story:this.story}},[r("div",{staticClass:"single-story-main-image"},[r("img",{attrs:{src:e.story.imgUrl,alt:"ERROR!"}})]),r("div",{staticClass:"single-story-not-the-image"},[r("div",{staticClass:"story-user-photo-name-2"},[r("div",{staticClass:"small-profile-img-story-2",on:{click:function(t){return e.sendToProfilePage(e.story.likedBy[0])}}},[r("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}}),r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(" "+e._s(e.story.owner.username)+" ")])]),r("span",{staticClass:"story-options",on:{click:function(t){return e.setToDelete(" Post",e.story,e.idx)}}},[r("svg",{attrs:{"aria-label":"More options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),r("div",{staticClass:"single-story-text"},[r("div",{staticClass:"small-profile-img-story-2-comment",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[r("img",{attrs:{src:e.story.owner.profileImgUrl,alt:"ERROR!"}})]),r("p",[r("span",{staticClass:"story-text-user-name",on:{click:function(t){return e.sendToProfilePage(e.story.owner._id)}}},[e._v(e._s(e.story.owner.username))]),e._v(" "+e._s(e.story.text)+" ")])]),r("div",{staticClass:"single-story-comments"},e._l(e.story.comments,(function(t,n){return r("ul",{key:t._id},[r("li",{staticClass:"single-story-single-comment"},[r("div",{staticClass:"comment-everything-but-like-counter"},[r("span",{staticClass:"small-profile-img-comment",on:{click:function(r){return e.sendToProfilePage(t.by._id)}}},[r("img",{attrs:{src:e.getUserImgForComment(t.by._id),alt:""}})]),r("p",[r("span",{on:{click:function(r){return e.sendToProfilePage(t.by._id)}}},[e._v(e._s(t.by.username))]),e._v(" "+e._s(t.text)+" ")]),r("div",{staticClass:"delete-like-unlike-comment"},[e.commentByMe(t.by._id)?r("span",{staticClass:"delete-comment",on:{click:function(r){return e.setToDelete(" Comment",e.story,e.idx,t,n)}}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment Options",fill:"#262626",height:"16",role:"img",viewBox:"0 0 48 48",width:"16"}},[r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]),r("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),r("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})]):e._e(),e.commentLikedByMe(e.story,n)?e._e():r("span",{staticClass:"comment-like",on:{click:function(r){return e.toggleLike("add","comment",e.story,e.idx,t,n)}}},[r("svg",{attrs:{"aria-label":"Like",fill:"#262626",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.commentLikedByMe(e.story,n)?r("span",{staticClass:"comment-unlike",on:{click:function(r){return e.toggleLike("remove","comment",e.story,e.idx,t,n)}}},[r("svg",{attrs:{"aria-label":"unLike",fill:"red",height:"12",role:"img",viewBox:"0 0 48 48",width:"12"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e()])]),t.likedBy.length?r("div",{staticClass:"comment-how-many-likes"},[e._v(" "+e._s(e.commentLikeMessage(t))+" ")]):e._e()])])})),0),r("div",{staticClass:"story-after-comments"},[r("div",{staticClass:"story-four-icons"},[e.likedByMe(e.story)?e._e():r("span",{on:{click:function(t){return e.toggleLike("add","story",e.story,e.idx)}}},[r("svg",{staticClass:"story-like-icon",attrs:{"aria-label":"Like",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]),e.likedByMe(e.story)?r("span",{on:{click:function(t){return e.toggleLike("remove","story",e.story,e.idx)}}},[r("svg",{staticClass:"story-unlike-icon",attrs:{"aria-label":"unLike",fill:"red",color:"red",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}}),r("path",{attrs:{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}})])]):e._e(),r("span",{staticClass:"story-comment-icon"},[r("svg",{staticClass:"story-comment-icon",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])]),r("span",{staticClass:"story-message-icon"},[r("svg",{attrs:{"aria-label":"Direct",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}})])]),r("span",{staticClass:"story-bookmark"},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Save",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])]),r("div",{staticClass:"story-liked-by"},[e.story.likedBy.length?r("p",[e._v(" Liked by "),r("span",{on:{click:function(t){return e.sendToProfilePage(e.story.likedBy[0])}}},[e._v(e._s(e.latestLiker(e.story)))]),e._v(" "+e._s(e.likedByMessage(e.story))+" ")]):e._e()]),r("div",{staticClass:"story-how-long-ago"},[e._v(" "+e._s(e.timeDifference(Date.now(),e.story.createdAt).toUpperCase())+" ")]),r("div",{staticClass:"story-add-comment"},[r("form",{attrs:{method:"POST"},on:{submit:function(t){return e.addComment(e.story,e.idx,t)}}},[r("button",{staticClass:"comment-imoji-icon",attrs:{type:"button"}},[r("div",{},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Emoji",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}}),r("path",{attrs:{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}})])])]),r("div",{}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentInput,expression:"newCommentInput"}],staticClass:"Ypffh",attrs:{"aria-label":"Add a comment…",placeholder:"Add a comment…",autocomplete:"off",autocorrect:"off"},domProps:{value:e.newCommentInput},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addComment(e.story,e.idx,t)},input:function(t){t.target.composing||(e.newCommentInput=t.target.value)}}}),r("button",{attrs:{type:"submit"},on:{click:function(t){return e.addComment(e.story,e.idx,t)}}},[e._v(" Post ")])])])])])])],1)},oe=[],ie={components:{appHeader:C,newStory:E},data:function(){return{story:{},idx:-100,users:[],loggedInUser:{},newCommentInput:"",backgroundDisplayed:!1,deleteMenuDisplayed:!1,confirmMenuDisplayed:!1,toDeleteEntity:"",commentToDelete:{},storyToDelete:{},newStoryOn:!1,headerMenuShown:!1}},methods:{setStories:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadStories");case 2:case"end":return t.stop()}}),t)})))()},setUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUsers");case 2:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.users=this.$store.state.users},getLoggedInUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getLoggedInUser");case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getStory:function(){var e=this.$route.params.storyId,t=this.$store.state.stories;this.story=t.find((function(t){return t._id===e})),console.log(this.story),console.log(this.story.owner.profileImgUrl)},resetnewCommentsInput:function(){this.newCommentInput=""},timeDifference:function(e,t){var r=6e4,n=60*r,s=24*n,o=30*s,i=365*s,a=e-t;return a<r?Math.round(a/1e3)+" seconds ago":a<n?Math.round(a/r)+" minutes ago":a<s?Math.round(a/n)+" hours ago":a<o?"about "+Math.round(a/s)+" days ago":a<i?"about "+Math.round(a/o)+" months ago":"about "+Math.round(a/i)+" years ago"},likedByMessage:function(e){if(e.likedBy.length)return 1===e.likedBy.length?"":2===e.likedBy.length?"and 1 other":"and ".concat(e.likedBy.length-1," others")},latestLiker:function(e){if(e.likedBy.length)return e.likedBy[0]._id===this.$store.state.loggedInUser._id?"you":e.likedBy[0].username},likedByMe:function(e){var t=this;if(!e.likedBy||!e.likedBy.length)return!1;var r=e.likedBy.find((function(e){return e._id===t.$store.state.loggedInUser._id}));return r},commentLikedByMe:function(e,t){var r=this;if(!e.comments[t].likedBy)return!1;var n=e.comments[t].likedBy.find((function(e){return e._id===r.$store.state.loggedInUser._id}));return n},toggleLike:function(e,t,r){var n=arguments,s=this;return Object(h["a"])(regeneratorRuntime.mark((function o(){var i,a,c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=n.length>3&&void 0!==n[3]?n[3]:null,a=n.length>4&&void 0!==n[4]?n[4]:null,c=n.length>5&&void 0!==n[5]?n[5]:null,l={request:e,entityType:t,story:r,storyIdx:i,comment:a,commentIdx:c},o.next=6,s.$store.dispatch("toggleLike",l);case 6:case"end":return o.stop()}}),o)})))()},commentByMe:function(e){return e===this.$store.state.loggedInUser._id},addComment:function(e){var t=arguments,r=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var s,o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=t.length>1&&void 0!==t[1]?t[1]:null,o=t.length>2?t[2]:void 0,"keydown"!==o.type||!o.shiftKey){n.next=4;break}return n.abrupt("return");case 4:if(o.preventDefault(),r.newCommentInput){n.next=8;break}return console.log("No text"),n.abrupt("return");case 8:return i=r.newCommentInput,a={story:e,storyIdx:s,text:i},n.next=12,r.$store.dispatch("addComment",a);case 12:return n.next=14,r.resetnewCommentsInput();case 14:case"end":return n.stop()}}),n)})))()},deleteComment:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commentToDelete,t.next=3,e.$store.dispatch("deleteComment",r);case 3:e.commentToDelete={};case 4:case"end":return t.stop()}}),t)})))()},deleteStory:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.storyToDelete,t.next=3,e.$store.dispatch("deleteStory",r);case 3:e.storyToDelete={};case 4:case"end":return t.stop()}}),t)})))()},openDeleteMenu:function(){this.backgroundDisplayed=!0,this.deleteMenuDisplayed=!0},openComfirmMenu:function(){this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!0},closeBackground:function(){this.backgroundDisplayed=!1,this.deleteMenuDisplayed=!1,this.confirmMenuDisplayed=!1},deleteConfirmed:function(){" Comment"===this.toDeleteEntity?(this.deleteComment(),this.closeBackground()):" Post"===this.toDeleteEntity&&(this.deleteStory(),this.closeBackground(),this.$router.push("/following-feed/"+this.loggedInUser._id))},setToDelete:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.toDeleteEntity=e," Comment"===e?this.commentToDelete={story:t,storyIdx:r,comment:n,commentIdx:s}:" Post"===e&&(this.storyToDelete={story:t,idx:r}),this.openDeleteMenu()},openNewStory:function(){this.newStoryOn=!0},closeNewStory:function(e){this.newStoryOn=!1,"yes update"===e&&this.$router.push("/following-feed/"+this.loggedInUser._id)},storyByMe:function(){return this.story.owner._id===this.loggedInUser._id},getUserImgForComment:function(e){var t=this.users.find((function(t){return t._id===e})),r=t.profileImgUrl;return console.log(t.profileImgUrl),r},sendToProfilePage:function(e){this.$router.push("/profile-page/"+e)},commentLikeMessage:function(e){return e.likedBy.length?1===e.likedBy.length?"1 like":e.likedBy.length>1?"".concat(e.likedBy.length," likes"):void 0:"ERROR"},headerProfileMenuChange:function(e){this.headerMenuShown=e}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoggedInUser();case 2:return t.next=4,e.setStories();case 4:return t.next=6,e.setUsers();case 6:e.loadUsers(),e.getStory();case 8:case"end":return t.stop()}}),t)})))()}},ae=ie,ce=Object(c["a"])(ae,se,oe,!1,null,null,null),le=ce.exports;n["a"].use(d["a"]);var ue=[{path:"/",name:"landing-page",component:S},{path:"/profile-page/:userId",name:"profile-page",component:ne},{path:"/following-feed/:userId",name:"following-feed",component:q},{path:"/explore-feed/:userId",name:"explore-feed",component:U},{path:"/login-signup",name:"login-signup",component:W},{path:"/single-story/:storyId",name:"single-story",component:le}],de=new d["a"]({routes:ue}),pe=de,me=(r("c740"),r("94ea")),he=(r("d3b7"),{query:fe,_save:be,_makeId:Te,_loadStories:Ue,_toggleLike:we,getLoggedInUser:ye,addComment:ke,deleteComment:xe,addStory:Oe,deleteStory:Me,_loadUsers:Re}),ge={_id:"6112f6116376cf1087265293",username:"Homer_Simpson",fullname:"Homer Simpson",profileImgUrl:"https://res.cloudinary.com/asaphstagram2021/image/upload/v1628445913/Homer%20Simpson/Homer_Simpson_2006_veqnka.png"};function fe(e){return ve.apply(this,arguments)}function ve(){return ve=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:null,"/story"!==t&&"/user"!==t&&"/username"!==t){e.next=7;break}return e.next=4,z.a.get(t+"/"+r);case 4:n=e.sent,e.next=11;break;case 7:if("/userAll"!==t&&"/storyAll"!==t){e.next=11;break}return e.next=10,z.a.get(t);case 10:n=e.sent;case 11:return e.abrupt("return",Promise.resolve(n.data));case 12:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function ye(){return ge}function we(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe("/storyAll");case 2:return r=e.sent,n=r.findIndex((function(e){return e._id===t.story._id})),s=t,s.storyIdx=n,"add"===t.request?(o=ge._id,s.likeToAdd=o,"/story"===t.entityType?r[n].likedBy.unshift(o):r[n].comments[t.commentIdx].likedBy.unshift(o)):(i=-100,"story"===t.entityType?(i=r[n].likedBy.findIndex((function(e){return e._id===ge._id})),r[n].likedBy.splice(i,1)):(i=r[n].comments[t.commentIdx].likedBy.findIndex((function(e){return e._id===ge._id})),r[n].comments[t.commentIdx].likedBy.splice(i,1)),s.removeIdx=i),e.next=9,z.a.put("/story",r[n]);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function ke(e){return _e.apply(this,arguments)}function _e(){return _e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={_id:Te(),by:{_id:ge.userId,username:ge.username,imgUrl:ge.profileImgUrl},text:t.text,likedBy:[]},e.next=3,fe("/storyAll");case 3:return n=e.sent,s=n.findIndex((function(e){return e._id===t.story._id})),n[s].comments.push(r),e.next=8,z.a.put("/story",n[s]);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function xe(e){return Se.apply(this,arguments)}function Se(){return Se=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe("storyAll");case 2:return r=e.sent,n=r.findIndex((function(e){return e._id===t.story._id})),r[n].comments.splice(t.commentIdx,1),e.next=7,z.a.put("/story",r[n]);case 7:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function be(e,t){localStorage.setItem(e,JSON.stringify(t))}function Me(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe("/storyAll");case 2:return r=e.sent,n=r.findIndex((function(e){return e._id===t._id})),r.splice(n,1),e.next=7,z.a.delete("story",t._id);case 7:return e.next=9,fe("/userAll");case 9:return s=e.sent,o=s.data.findIndex((function(e){return e._id===ge.userId})),i=s[o].ownedStories.findIndex((function(e){t._id})),s[o].ownedStories.splice(i,1),a=s[o],e.next=16,z.a.put("/user",a);case 16:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Oe(e){return Be.apply(this,arguments)}function Be(){return Be=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("/story",t);case 2:return r=e.sent,e.next=5,fe("/user",r.owner._id);case 5:return n=e.sent,n.ownedStories.unshift(r._id),e.next=9,z.a.put("/user",n);case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Ue(){return De.apply(this,arguments)}function De(){return De=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe("/storyAll");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Re(){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe("/userAll");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Te(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}be("loggedInUser",ge),n["a"].use(me["a"]);var Le=new me["a"].Store({strict:!0,state:{},getters:{getUsers:function(e){var t=e.users;return t},getStories:function(e){var t=e.stories;return t}},mutations:{loadStories:function(e,t){var r=t.payload;e.stories=r.slice()},loadUsers:function(e,t){var r=t.users;e.users=r.slice()},toggleLike:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.story._id})),s=r.commentIdx;if("add"===r.request)"story"===r.entityType?e.stories[n].likedBy.unshift(r.likeToAdd):e.stories[n].comments[s].likedBy.unshift(r.likeToAdd);else{var o=r.removeIdx;"story"===r.entityType?e.stories[n].likedBy.splice(o,1):e.stories[n].comments[s].likedBy.splice(o,1)}},addComment:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.story._id}));e.stories[n].comments.push(r.newComment)},deleteComment:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r.story._id}));e.stories[n].comments.splice(r.commentIdx,1)},deleteStory:function(e,t){var r=t.payload,n=e.stories.findIndex((function(e){return e._id===r._id}));e.stories.splice(n,1)},addStory:function(e,t){var r=t.payload;e.stories.unshift(r)},getLoggedInUser:function(e,t){var r=t.payload;e.loggedInUser=r}},actions:{loadStories:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,he._loadStories();case 3:n=t.sent,r({type:"loadStories",payload:n});case 5:case"end":return t.stop()}}),t)})))()},loadUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,he._loadUsers();case 2:r=t.sent,e.commit({type:"loadUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},toggleLike:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,he._toggleLike(t);case 3:s=r.sent,n({type:"toggleLike",payload:s});case 5:case"end":return r.stop()}}),r)})))()},addComment:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,he.addComment(t);case 3:s=r.sent,t.newComment=s,n({type:"addComment",payload:t});case 6:case"end":return r.stop()}}),r)})))()},deleteComment:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,he.deleteComment(t);case 3:return r.next=5,n({type:"deleteComment",payload:t});case 5:case"end":return r.stop()}}),r)})))()},deleteStory:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,t._idx||(t._idx=null),r.next=4,he.deleteStory(t);case 4:n({type:"deleteStory",payload:t});case 5:case"end":return r.stop()}}),r)})))()},addStory:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,he.addStory(t);case 3:s=r.sent,n({type:"addStory",payload:s});case 5:case"end":return r.stop()}}),r)})))()},getLoggedInUser:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,he.getLoggedInUser();case 3:return n=t.sent,r({type:"getLoggedInUser",payload:n}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()}}});r("f27b");n["a"].config.productionTip=!1,new n["a"]({router:pe,store:Le,render:function(e){return e(u)}}).$mount("#app")},"85ec":function(e,t,r){},f27b:function(e,t,r){}});
//# sourceMappingURL=app.f8c59ce0.js.map